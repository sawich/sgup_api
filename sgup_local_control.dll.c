/* This file was generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2020 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

#define __thiscall __cdecl // Test compile in C mode

int __cdecl HeartbeatClient::trUtf8(int a1, int a2, int a3, int a4);
void __thiscall HeartbeatClient::~HeartbeatClient(HeartbeatClient *__hidden this); // idb
void __thiscall HeartbeatClient::`default constructor closure'(HeartbeatClient *__hidden this); // idb
void __cdecl HeartbeatClient::qt_static_metacall(HeartbeatClient *a1, int a2, int a3);
HeartbeatClient *__thiscall HeartbeatClient::qt_metacast(HeartbeatClient *this, const char *a2);
int __thiscall HeartbeatClient::qt_metacall(HeartbeatClient *this, int a2, int a3, _DWORD **a4);
const struct QMetaObject *__thiscall HeartbeatClient::metaObject(HeartbeatClient *__hidden this); // idb
int __cdecl HeartbeatServer::trUtf8(int a1, int a2, int a3, int a4);
void __cdecl HeartbeatServer::qt_static_metacall(HeartbeatServer *a1, int a2, int a3);
HeartbeatServer *__thiscall HeartbeatServer::qt_metacast(HeartbeatServer *this, const char *a2);
int __thiscall HeartbeatServer::qt_metacall(HeartbeatServer *this, int a2, int a3, _DWORD **a4);
const struct QMetaObject *__thiscall HeartbeatServer::metaObject(HeartbeatServer *__hidden this); // idb
void __thiscall LocalServer::~LocalServer(LocalServer *__hidden this); // idb
void __cdecl sub_10001340(_BYTE *a1, int a2, int a3);
QObject *__thiscall sub_10001370(QObject *this, const char *a2);
int __thiscall sub_100013D0(_BYTE *this, int a2, int a3, _DWORD **a4);
int *__thiscall sub_10001450(_DWORD *this);
void __cdecl sub_10001470(HeartbeatClient *a1, int a2, int a3);
QObject *__thiscall sub_100014A0(QObject *this, const char *a2);
int __thiscall sub_10001500(HeartbeatClient *this, int, int, int); // idb
int *__thiscall sub_10001580(_DWORD *this);
int __cdecl LocalServer::trUtf8(int a1, int a2, int a3, int a4);
void __cdecl LocalServer::qt_static_metacall(LocalServer *a1, int a2, int a3);
LocalServer *__thiscall LocalServer::qt_metacast(LocalServer *this, const char *a2);
int __thiscall LocalServer::qt_metacall(LocalServer *this, int a2, int a3, _DWORD **a4);
const struct QMetaObject *__thiscall LocalServer::metaObject(LocalServer *__hidden this); // idb
void __cdecl sub_10001730(_DWORD *a1, int a2, int a3);
QThread *__thiscall sub_10001760(QThread *this, const char *a2);
int __thiscall sub_100017C0(_DWORD *this, int a2, int a3, _DWORD **a4);
int *__thiscall sub_10001840(_DWORD *this);
char *__thiscall sub_10001860(void *this, char a2);
HeartbeatClient *__thiscall HeartbeatClient::HeartbeatClient(HeartbeatClient *__hidden this, struct QObject *); // idb
void *__thiscall sub_10001950(void *this, char a2);
char __thiscall HeartbeatClient::connectToServer(HeartbeatClient *this);
int __thiscall sub_10001A60(int this, void *a2);
void __thiscall sub_10001AF0(int this);
void __thiscall sub_10001B10(_BYTE *this);
void *__thiscall sub_10001B30(void *this, char a2);
char __thiscall sub_10001B60(int this);
void *__thiscall sub_10001CE0(void *this, char a2);
void __thiscall sub_10001D40(int this);
QObject *__thiscall sub_10001EC0(QObject *this, struct QObject *a2);
void __thiscall sub_10001F60(_DWORD *this);
void __thiscall HeartbeatClient::onDisconnected(HeartbeatClient *__hidden this); // idb
int __thiscall sub_10001F80(_DWORD *this, int a2);
// _DWORD __stdcall unknown_libname_1(_DWORD); weak
int __thiscall sub_10001FA0(_DWORD *this, int a2);
int __thiscall sub_10001FB0(_DWORD *this, int a2);
int __thiscall sub_10001FC0(_DWORD *this, int a2);
// void __thiscall Concurrency::details::ExecutionResource::MarkAsVirtualProcessorRoot(Concurrency::details::ExecutionResource *__hidden this, struct Concurrency::details::VirtualProcessorRoot *); idb
errno_t __cdecl sub_10001FE0(char *Destination, char *Source, rsize_t MaxCount);
void *__thiscall sub_10002000(void *this, char a2);
char __thiscall sub_10002030(QLocalSocket **this);
char __thiscall sub_10002140(QIODevice **this, int a2, const char *a3, int a4);
void __thiscall sub_10002240(int this, __int16 a2, _DWORD *a3, int a4);
void __thiscall sub_10002540(_DWORD **this);
void __thiscall HeartbeatServer::end(HeartbeatServer *__hidden this); // idb
QListData *__thiscall sub_100026A0(QListData *this, int *a2);
void __thiscall sub_10002760(QListData *this, int a2);
char *__thiscall sub_10002830(void *this, char a2);
_DWORD *__thiscall HeartbeatServer::HeartbeatServer(_DWORD *this, struct QObject *a2, char a3);
bool __thiscall HeartbeatServer::start(HeartbeatServer *__hidden this); // idb
void *__thiscall sub_10002A30(void *this, char a2);
void __thiscall HeartbeatServer::clearSocketList(HeartbeatServer *__hidden this); // idb
void __thiscall HeartbeatServer::disconnectAllClient(HeartbeatServer *__hidden this); // idb
void __thiscall HeartbeatServer::newConnection(HeartbeatServer *__hidden this); // idb
char __thiscall sub_10002C00(QListData *this, _DWORD *a2);
void __thiscall HeartbeatServer::onDisconnected(HeartbeatServer *__hidden this); // idb
char __thiscall LocalServer::getPacket(LocalServer *this, struct QLocalSocket *a2, unsigned __int16 a3, char *a4, unsigned __int16 a5);
void __stdcall sub_10002CF0(void *a1, int a2, void *Src);
bool __thiscall LocalServer::start(LocalServer *__hidden this); // idb
char __thiscall LocalServer::sendPacket(LocalServer *this, struct QLocalSocket *a2, int a3, char *a4, int a5);
void __thiscall LocalServer::onMessageProc(LocalServer *this, struct QLocalSocket *a2, int a3, int a4);
int __thiscall sub_10002F70(QListData *this, int a2, volatile signed __int32 *a3);
_DWORD *__thiscall LocalServer::LocalServer(_DWORD *this, struct QObject *a2, char a3);
void **__thiscall sub_10003170(QListData *this, void **a2);
void __thiscall LocalServer::newConnection(LocalServer *__hidden this); // idb
_DWORD *__thiscall sub_100032E0(QListData *this, _DWORD *a2, void **a3);
void __thiscall LocalServer::end(LocalServer *__hidden this); // idb
void __thiscall LocalServer::finishThread(LocalServer *__hidden this); // idb
int __thiscall sub_100034C0(int this, int a2, struct QObject *a3);
void __thiscall sub_10003570(int this);
int __thiscall sub_100035B0(_DWORD *this);
void *__thiscall sub_100035D0(void *this, char a2);
void __thiscall sub_10003620(int this);
bool SGUPLocalClient_Init();
int __cdecl SGUPLocalClient_SetOnRecvPacketFunc(int a1);
char SGUPLocalClient_Term();
char SGUPLocalClient_StartOverlayHost();
char SGUPAPI_TestFunc();
char __cdecl SGUPLocalClient_PHCommand(char *Source, size_t Count);
void __cdecl SGUPLocalClient_GetAuthToken(char *Source, char *a2, char a3);
void __cdecl SGUPLocalClient_RenewAuthToken(char *Source, char *a2, char *a3);
char SGUPLocalClient_GetMessengerAuthToken();
void __cdecl SGUPLocalCleint_RenewMessengerAuthToken(char *Source);
void __cdecl SGUPLocalClient_GetFriendInfo(int a1);
void __cdecl SGUPLocalClient_StartOneOnOneChat(int a1, int a2);
void __cdecl SGUPLocalClient_EndChat(int a1);
void __cdecl SGUPLocalClient_SendChatMessage(int a1, const void *a2);
void __cdecl SGUPLocalClient_AddRequestLobbyListStringFilter(char *Source, char *a2);
void __cdecl SGUPLocalClient_AddRequestLobbyListNumericalFilter(char *Source, int a2, int a3);
void __cdecl SGUPLocalClient_AddRequestLobbyListResultCountFilter(int a1);
void __cdecl SGUPLocalClient_AddRequestLobbyListSearchKey(char *Source);
void __cdecl SGUPLocalClient_RequestLobbyList(int a1);
void __cdecl SGUPLocalClient_RequestLobbyInfo(int a1);
void __cdecl SGUPLocalClient_CreateLobby(int a1, int a2, int a3, int a4);
void __cdecl SGUPLocalClient_JoinLobby(int a1);
void __cdecl SGUPLocalClient_LeaveLobby(int a1);
void __cdecl SGUPLocalClient_InviteFriend(int a1, int a2, int a3);
void __cdecl SGUPLocalClient_SetInvitation(int a1, int a2, int a3, char a4);
void __cdecl SGUPLocalClient_SetGameServer(int a1, char *Source, int a3);
void __cdecl SGUPLocalClient_GetGameServer(int a1);
void __cdecl SGUPLocalClient_SetLobbyOwner(int a1, int a2, int a3, int a4, int a5);
void __cdecl SGUPLocalClient_SetUserData(char *Source, char *a2);
void __cdecl SGUPLocalClient_GetUserData(char *Source);
void __cdecl SGUPLocalClient_DelUserData(char *Source);
void __cdecl SGUPLocalClient_SetLobbyData(int a1, char *Source, char *a3);
void __cdecl SGUPLocalClient_GetLobbyData(int a1, char *Source);
void __cdecl SGUPLocalClient_DelLobbyData(int a1, char *Source);
void __cdecl SGUPLocalClient_SetLobbyType(int a1, int a2);
void __cdecl SGUPLocalClient_SetGameJoinable(int a1, int a2);
void __cdecl SGUPLocalClient_SetLobbyUserData(int a1, char *Source, char *a3);
void __cdecl SGUPLocalClient_GetLobbyUserData(int a1, char *Source);
void __cdecl SGUPLocalClient_DelLobbyUserData(int a1, char *Source);
void __cdecl SGUPLocalClient_SetUserTeam(int a1, int a2);
void __cdecl SGUPLocalClient_SetUserReady(int a1, char a2);
void __cdecl SGUPLocalClient_StartGame(int a1, char a2);
void __cdecl SGUPLocalClient_PostSystemMessage(char *Source, __int16 a2, char *a3, __int16 a4, char *a5, __int16 a6);
void SGUPLocalClient_GetSTUNInfo();
char SGUPLocalClient_MessengerInit();
void SGUPLocalClient_OverlayHostTerm();
char SGUPLocalClient_SendDuplicateLoginEvent();
char SGUPLocalClient_GetMemberInfo();
void __cdecl SGUPLocalClient_InternalRenewAuthToken(char *Source, char *a2, char *a3);
int __cdecl SGUPLocalClient_SetCallbackSubscriptReq(int a1);
int __cdecl SGUPLocalClient_SetCallbackMessengerConfigUpdate(int a1);
int __cdecl SGUPLocalClient_SetCallbackGetMemberInfo(int a1);
int __cdecl SGUPLocalClient_SetCallbackInternalRenewAuthToken(int a1);
void __cdecl SGUPLocalClient_SetCallbackDuplicateLoginResult(struct Concurrency::details::VirtualProcessorRoot *a1);
char SGUPLocalClient_OverlayHostInit();
int __cdecl SGUPLocalClient_SetCallbackUpdateAuthToken(int a1);
// void __cdecl operator delete(void *); idb
// void __cdecl operator delete[](void *); idb
// void __stdcall `eh vector destructor iterator'(void *, unsigned int, int, void (__thiscall *)(void *)); idb
// void *__cdecl operator new(unsigned int); idb
// void *__cdecl memset(void *, int Val, size_t Size);
// void *__cdecl memcpy(void *, const void *Src, size_t Size);
// void __stdcall __noreturn CxxThrowException(void *pExceptionObject, _ThrowInfo *pThrowInfo);
int sub_1000506E();
void *sub_10005132();
// int __cdecl _clean_type_info_names_internal(_DWORD); weak
int sub_100057E0();
int sub_100057F0();
int sub_10005800();
int sub_10005810();
int sub_10005820();
int sub_10005830();
// DWORD __stdcall GetCurrentProcessId();
// HANDLE __stdcall GetCurrentProcess();
// BOOL __stdcall TerminateProcess(HANDLE hProcess, UINT uExitCode);
// errno_t __cdecl strncpy_s(char *Destination, rsize_t SizeInBytes, const char *Source, rsize_t MaxCount);
// char *__cdecl strncpy(char *Destination, const char *Source, size_t Count);
// int __thiscall QDataStream::QDataStream(_DWORD, _DWORD, _DWORD); weak
// QByteArray *__thiscall QByteArray::QByteArray(QByteArray *__hidden this); weak
// _DWORD __thiscall QDataStream::readRawData(QDataStream *__hidden this, char *, _DWORD); weak
// char *__thiscall QByteArray::data(QByteArray *__hidden this); weak
// QByteArray *__thiscall QByteArray::QByteArray(QByteArray *__hidden this, _DWORD, char); weak
// int __thiscall QDataStream::operator>>(_DWORD, _DWORD); weak
// QDataStream *__thiscall QDataStream::QDataStream(QDataStream *__hidden this, struct QIODevice *); weak
// void __thiscall QByteArray::resize(QByteArray *__hidden this, _DWORD); weak
// struct QListData::Data *__thiscall QListData::detach(QListData *__hidden this, _DWORD); weak
// struct QListData::Data *__thiscall QListData::detach_grow(QListData *__hidden this, int *, _DWORD); weak
// int __thiscall QString::operator=(_DWORD, _DWORD); weak
// int __thiscall QDataStream::operator<<(_DWORD, _DWORD); weak
// void **__thiscall QListData::append(QListData *__hidden this); weak
// void __thiscall QListData::remove(QListData *__hidden this, _DWORD); weak
// struct QObject *__thiscall QObject::sender(QObject *__hidden this); weak
// int __thiscall QThread::start(_DWORD, _DWORD); weak
// void **__thiscall QListData::erase(QListData *__hidden this, void **); weak
// bool __thiscall QThread::isRunning(QThread *__hidden this); weak
// void __thiscall QThread::~QThread(QThread *__hidden this); weak
// QThread *__thiscall QThread::QThread(QThread *__hidden this, struct QObject *); weak
// void __cdecl static QThread::msleep(unsigned int); weak
// struct QtSharedPointer::ExternalRefCountData *__cdecl static QtSharedPointer::ExternalRefCountData::getAndRef(const struct QObject *); weak
// _DWORD __thiscall QDataStream::writeRawData(QDataStream *__hidden this, const char *, _DWORD); weak
// __int64 __thiscall QIODevice::write(QIODevice *__hidden this, const struct QByteArray *); weak
// void __thiscall QDataStream::~QDataStream(QDataStream *__hidden this); weak
// void __thiscall QByteArray::~QByteArray(QByteArray *__hidden this); weak
// int __thiscall QMetaObject::tr(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// void __thiscall QCoreApplication::~QCoreApplication(QCoreApplication *__hidden this); weak
// QCoreApplication *__thiscall QCoreApplication::QCoreApplication(QCoreApplication *__hidden this, int *, char **, _DWORD); weak
// int __cdecl QString::fromAscii_helper(_DWORD); weak
// int __cdecl QObject::connect(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// void __thiscall QMetaObject::Connection::~Connection(QMetaObject::Connection *__hidden this); weak
// QObject *__thiscall QObject::QObject(QObject *__hidden this, struct QObject *); weak
// int __thiscall QThread::qt_metacall(_DWORD, _DWORD, _DWORD, _DWORD); weak
// void *__thiscall QThread::qt_metacast(QThread *__hidden this, const char *); weak
// void __thiscall QString::~QString(QString *__hidden this); weak
// void __cdecl static QListData::dispose(struct QListData::Data *); weak
// struct QMetaObject *__thiscall QObjectData::dynamicMetaObject(QObjectData *__hidden this); weak
// int __thiscall QObject::qt_metacall(_DWORD, _DWORD, _DWORD, _DWORD); weak
// void *__thiscall QObject::qt_metacast(QObject *__hidden this, const char *); weak
// void __thiscall QObject::~QObject(QObject *__hidden this); weak
// QString *__thiscall QString::QString(QString *__hidden this); weak
// void __thiscall QLocalServer::~QLocalServer(QLocalServer *__hidden this); weak
// QLocalServer *__thiscall QLocalServer::QLocalServer(QLocalServer *__hidden this, struct QObject *); weak
// int __thiscall QLocalServer::setSocketOptions(_DWORD, _DWORD); weak
// bool __thiscall QLocalServer::listen(QLocalServer *__hidden this, const struct QString *); weak
// void __thiscall QLocalServer::close(QLocalServer *__hidden this); weak
// bool __thiscall QLocalSocket::flush(QLocalSocket *__hidden this); weak
// void __thiscall QLocalSocket::disconnectFromServer(QLocalSocket *__hidden this); weak
// void __thiscall QLocalSocket::abort(QLocalSocket *__hidden this); weak
// int __thiscall QLocalSocket::connectToServer(_DWORD, _DWORD, _DWORD); weak
// bool __thiscall QLocalSocket::waitForConnected(QLocalSocket *__hidden this, _DWORD); weak
// int __thiscall QLocalSocket::state(_DWORD); weak
// void __thiscall QLocalSocket::~QLocalSocket(QLocalSocket *__hidden this); weak
// QLocalSocket *__thiscall QLocalSocket::QLocalSocket(QLocalSocket *__hidden this, struct QObject *); weak

//-------------------------------------------------------------------------
// Data declarations

// extern _UNKNOWN QListData::shared_null; weak
// extern struct QCoreApplication *QCoreApplication::self; weak
// extern _UNKNOWN QThread::staticMetaObject; weak
// extern _UNKNOWN QObject::staticMetaObject; weak
void *QLocalSocket::`vftable' = &QLocalSocket::metaObject; // weak
void *HeartbeatClient::`vftable' = &HeartbeatClient::metaObject; // weak
void *LocalClient::`vftable' = &sub_10001450; // weak
void *QCoreApplication::`vftable' = &QCoreApplication::metaObject; // weak
void *LocalClientInternal::`vftable' = &sub_10001580; // weak
void *HeartbeatServer::`vftable' = &HeartbeatServer::metaObject; // weak
void *QLocalServer::`vftable' = &QLocalServer::metaObject; // weak
void *LocalServer::`vftable' = &LocalServer::metaObject; // weak
void *LocalServerThread::`vftable' = &sub_10001840; // weak
_UNKNOWN unk_10006EC0; // weak
_UNKNOWN HeartbeatClient::staticMetaObject; // weak
_UNKNOWN HeartbeatServer::staticMetaObject; // weak
int dword_1000A030 = 0; // weak
int dword_1000A048 = 0; // weak
_UNKNOWN LocalServer::staticMetaObject; // weak
int dword_1000A078 = 0; // weak
int dword_1000A218 = 0; // weak
int dword_1000A21C = 0; // idb
int dword_1000A220 = 0; // weak
Concurrency::details::ExecutionResource *dword_1000A224 = NULL; // idb
_UNKNOWN unk_1000A554; // weak


//----- (10001000) --------------------------------------------------------
int __cdecl HeartbeatClient::trUtf8(int a1, int a2, int a3, int a4)
{
  QMetaObject::tr(&HeartbeatClient::staticMetaObject, a1, a2, a3, a4);
  return a1;
}
// 10006120: using guessed type int __thiscall QMetaObject::tr(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (10001040) --------------------------------------------------------
void __thiscall HeartbeatClient::`default constructor closure'(HeartbeatClient *this)
{
  HeartbeatClient::HeartbeatClient(this, 0);
}

//----- (10001050) --------------------------------------------------------
void __cdecl HeartbeatClient::qt_static_metacall(HeartbeatClient *a1, int a2, int a3)
{
  if ( !a2 && !a3 )
    HeartbeatClient::onDisconnected(a1);
}

//----- (10001070) --------------------------------------------------------
HeartbeatClient *__thiscall HeartbeatClient::qt_metacast(HeartbeatClient *this, const char *a2)
{
  if ( !a2 )
    return 0;
  if ( !strcmp(a2, "HeartbeatClient") )
    return this;
  return (HeartbeatClient *)QObject::qt_metacast(this, a2);
}
// 100061B4: using guessed type void *__thiscall QObject::qt_metacast(QObject *__hidden this, const char *);

//----- (100010D0) --------------------------------------------------------
int __thiscall HeartbeatClient::qt_metacall(HeartbeatClient *this, int a2, int a3, _DWORD **a4)
{
  int result; // eax
  int v6; // esi

  result = QObject::qt_metacall(this, a2, a3, a4);
  v6 = result;
  if ( result >= 0 )
  {
    if ( a2 )
    {
      if ( a2 != 12 )
        return v6;
      if ( result < 1 )
        **a4 = -1;
    }
    else if ( result < 1 )
    {
      HeartbeatClient::onDisconnected(this);
      return -1;
    }
    return result - 1;
  }
  return result;
}
// 100010FD: conditional instruction was optimized away because of 'eax.4==0'
// 100061B0: using guessed type int __thiscall QObject::qt_metacall(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10001130) --------------------------------------------------------
const struct QMetaObject *__thiscall HeartbeatClient::metaObject(HeartbeatClient *this)
{
  QObjectData *v1; // ecx
  const struct QMetaObject *result; // eax

  v1 = (QObjectData *)*((_DWORD *)this + 1);
  if ( *((_DWORD *)v1 + 6) )
    result = QObjectData::dynamicMetaObject(v1);
  else
    result = (const struct QMetaObject *)&HeartbeatClient::staticMetaObject;
  return result;
}
// 100061AC: using guessed type struct QMetaObject *__thiscall QObjectData::dynamicMetaObject(QObjectData *__hidden this);

//----- (10001150) --------------------------------------------------------
int __cdecl HeartbeatServer::trUtf8(int a1, int a2, int a3, int a4)
{
  QMetaObject::tr(&HeartbeatServer::staticMetaObject, a1, a2, a3, a4);
  return a1;
}
// 10006120: using guessed type int __thiscall QMetaObject::tr(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (10001180) --------------------------------------------------------
void __cdecl HeartbeatServer::qt_static_metacall(HeartbeatServer *a1, int a2, int a3)
{
  if ( !a2 )
  {
    if ( a3 )
    {
      if ( a3 == 1 )
        HeartbeatServer::onDisconnected(a1);
    }
    else
    {
      HeartbeatServer::newConnection(a1);
    }
  }
}

//----- (100011B0) --------------------------------------------------------
HeartbeatServer *__thiscall HeartbeatServer::qt_metacast(HeartbeatServer *this, const char *a2)
{
  if ( !a2 )
    return 0;
  if ( !strcmp(a2, "HeartbeatServer") )
    return this;
  return (HeartbeatServer *)QObject::qt_metacast(this, a2);
}
// 100061B4: using guessed type void *__thiscall QObject::qt_metacast(QObject *__hidden this, const char *);

//----- (10001210) --------------------------------------------------------
int __thiscall HeartbeatServer::qt_metacall(HeartbeatServer *this, int a2, int a3, _DWORD **a4)
{
  int result; // eax
  int v6; // esi

  result = QObject::qt_metacall(this, a2, a3, a4);
  v6 = result;
  if ( result < 0 )
    return result;
  if ( a2 )
  {
    if ( a2 != 12 )
      return v6;
    if ( result < 2 )
      **a4 = -1;
    return result - 2;
  }
  if ( result >= 2 )
    return result - 2;
  if ( result )
    HeartbeatServer::onDisconnected(this);
  else
    HeartbeatServer::newConnection(this);
  return v6 - 2;
}
// 10001240: conditional instruction was optimized away because of 'eax.4==1'
// 100061B0: using guessed type int __thiscall QObject::qt_metacall(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10001290) --------------------------------------------------------
const struct QMetaObject *__thiscall HeartbeatServer::metaObject(HeartbeatServer *this)
{
  QObjectData *v1; // ecx
  const struct QMetaObject *result; // eax

  v1 = (QObjectData *)*((_DWORD *)this + 1);
  if ( *((_DWORD *)v1 + 6) )
    result = QObjectData::dynamicMetaObject(v1);
  else
    result = (const struct QMetaObject *)&HeartbeatServer::staticMetaObject;
  return result;
}
// 100061AC: using guessed type struct QMetaObject *__thiscall QObjectData::dynamicMetaObject(QObjectData *__hidden this);

//----- (100012B0) --------------------------------------------------------
void __thiscall LocalServer::~LocalServer(LocalServer *this)
{
  volatile signed __int32 *v2; // eax

  v2 = (volatile signed __int32 *)*((_DWORD *)this + 4);
  if ( !*v2 || *v2 != -1 && !_InterlockedExchangeAdd(v2, 0xFFFFFFFF) )
    QListData::dispose(*((struct QListData::Data **)this + 4));
  QString::~QString((LocalServer *)((char *)this + 12));
  QObject::~QObject(this);
}
// 100061A0: using guessed type void __thiscall QString::~QString(QString *__hidden this);
// 100061A4: using guessed type void __cdecl static QListData::dispose(struct QListData::Data *);
// 100061B8: using guessed type void __thiscall QObject::~QObject(QObject *__hidden this);

//----- (10001340) --------------------------------------------------------
void __cdecl sub_10001340(_BYTE *a1, int a2, int a3)
{
  if ( !a2 )
  {
    if ( a3 )
    {
      if ( a3 == 1 )
        sub_10001B10(a1);
    }
    else
    {
      sub_10001D40((int)a1);
    }
  }
}

//----- (10001370) --------------------------------------------------------
QObject *__thiscall sub_10001370(QObject *this, const char *a2)
{
  if ( !a2 )
    return 0;
  if ( !strcmp(a2, "LocalClient") )
    return this;
  return (QObject *)QObject::qt_metacast(this, a2);
}
// 100061B4: using guessed type void *__thiscall QObject::qt_metacast(QObject *__hidden this, const char *);

//----- (100013D0) --------------------------------------------------------
int __thiscall sub_100013D0(_BYTE *this, int a2, int a3, _DWORD **a4)
{
  int result; // eax
  int v6; // esi

  result = QObject::qt_metacall(this, a2, a3, a4);
  v6 = result;
  if ( result < 0 )
    return result;
  if ( a2 )
  {
    if ( a2 != 12 )
      return v6;
    if ( result < 2 )
      **a4 = -1;
    return result - 2;
  }
  if ( result >= 2 )
    return result - 2;
  if ( result )
    sub_10001B10(this);
  else
    sub_10001D40((int)this);
  return v6 - 2;
}
// 10001400: conditional instruction was optimized away because of 'eax.4==1'
// 100061B0: using guessed type int __thiscall QObject::qt_metacall(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10001450) --------------------------------------------------------
int *__thiscall sub_10001450(_DWORD *this)
{
  QObjectData *v1; // ecx
  int *result; // eax

  v1 = (QObjectData *)this[1];
  if ( *((_DWORD *)v1 + 6) )
    result = (int *)QObjectData::dynamicMetaObject(v1);
  else
    result = &dword_1000A030;
  return result;
}
// 100061AC: using guessed type struct QMetaObject *__thiscall QObjectData::dynamicMetaObject(QObjectData *__hidden this);
// 1000A030: using guessed type int dword_1000A030;

//----- (10001470) --------------------------------------------------------
void __cdecl sub_10001470(HeartbeatClient *a1, int a2, int a3)
{
  if ( !a2 )
  {
    if ( a3 )
    {
      if ( a3 == 1 )
        HeartbeatClient::onDisconnected(a1);
    }
    else
    {
      sub_10002540((_DWORD **)a1);
    }
  }
}

//----- (100014A0) --------------------------------------------------------
QObject *__thiscall sub_100014A0(QObject *this, const char *a2)
{
  if ( !a2 )
    return 0;
  if ( !strcmp(a2, "LocalClientInternal") )
    return this;
  return (QObject *)QObject::qt_metacast(this, a2);
}
// 100061B4: using guessed type void *__thiscall QObject::qt_metacast(QObject *__hidden this, const char *);

//----- (10001500) --------------------------------------------------------
int __thiscall sub_10001500(HeartbeatClient *this, int a2, int a3, int a4)
{
  int result; // eax
  int v6; // esi

  result = QObject::qt_metacall(this, a2, a3, a4);
  v6 = result;
  if ( result < 0 )
    return result;
  if ( a2 )
  {
    if ( a2 != 12 )
      return v6;
    if ( result < 2 )
      **(_DWORD **)a4 = -1;
    return result - 2;
  }
  if ( result >= 2 )
    return result - 2;
  if ( result )
    HeartbeatClient::onDisconnected(this);
  else
    sub_10002540((_DWORD **)this);
  return v6 - 2;
}
// 10001530: conditional instruction was optimized away because of 'eax.4==1'
// 100061B0: using guessed type int __thiscall QObject::qt_metacall(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10001580) --------------------------------------------------------
int *__thiscall sub_10001580(_DWORD *this)
{
  QObjectData *v1; // ecx
  int *result; // eax

  v1 = (QObjectData *)this[1];
  if ( *((_DWORD *)v1 + 6) )
    result = (int *)QObjectData::dynamicMetaObject(v1);
  else
    result = &dword_1000A048;
  return result;
}
// 100061AC: using guessed type struct QMetaObject *__thiscall QObjectData::dynamicMetaObject(QObjectData *__hidden this);
// 1000A048: using guessed type int dword_1000A048;

//----- (100015A0) --------------------------------------------------------
int __cdecl LocalServer::trUtf8(int a1, int a2, int a3, int a4)
{
  QMetaObject::tr(&LocalServer::staticMetaObject, a1, a2, a3, a4);
  return a1;
}
// 10006120: using guessed type int __thiscall QMetaObject::tr(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (100015D0) --------------------------------------------------------
void __cdecl LocalServer::qt_static_metacall(LocalServer *a1, int a2, int a3)
{
  if ( !a2 )
  {
    if ( a3 )
    {
      if ( a3 == 1 )
        LocalServer::finishThread(a1);
    }
    else
    {
      LocalServer::newConnection(a1);
    }
  }
}

//----- (10001600) --------------------------------------------------------
LocalServer *__thiscall LocalServer::qt_metacast(LocalServer *this, const char *a2)
{
  if ( !a2 )
    return 0;
  if ( !strcmp(a2, "LocalServer") )
    return this;
  return (LocalServer *)QObject::qt_metacast(this, a2);
}
// 100061B4: using guessed type void *__thiscall QObject::qt_metacast(QObject *__hidden this, const char *);

//----- (10001660) --------------------------------------------------------
int __thiscall LocalServer::qt_metacall(LocalServer *this, int a2, int a3, _DWORD **a4)
{
  int result; // eax
  int v6; // esi

  result = QObject::qt_metacall(this, a2, a3, a4);
  v6 = result;
  if ( result < 0 )
    return result;
  if ( a2 )
  {
    if ( a2 != 12 )
      return v6;
    if ( result < 2 )
      **a4 = -1;
    return result - 2;
  }
  if ( result >= 2 )
    return result - 2;
  if ( result )
    LocalServer::finishThread(this);
  else
    LocalServer::newConnection(this);
  return v6 - 2;
}
// 10001690: conditional instruction was optimized away because of 'eax.4==1'
// 100061B0: using guessed type int __thiscall QObject::qt_metacall(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (100016E0) --------------------------------------------------------
const struct QMetaObject *__thiscall LocalServer::metaObject(LocalServer *this)
{
  QObjectData *v1; // ecx
  const struct QMetaObject *result; // eax

  v1 = (QObjectData *)*((_DWORD *)this + 1);
  if ( *((_DWORD *)v1 + 6) )
    result = QObjectData::dynamicMetaObject(v1);
  else
    result = (const struct QMetaObject *)&LocalServer::staticMetaObject;
  return result;
}
// 100061AC: using guessed type struct QMetaObject *__thiscall QObjectData::dynamicMetaObject(QObjectData *__hidden this);

//----- (10001730) --------------------------------------------------------
void __cdecl sub_10001730(_DWORD *a1, int a2, int a3)
{
  if ( !a2 )
  {
    if ( a3 )
    {
      if ( a3 == 1 )
        sub_100035B0(a1);
    }
    else
    {
      sub_10003620((int)a1);
    }
  }
}

//----- (10001760) --------------------------------------------------------
QThread *__thiscall sub_10001760(QThread *this, const char *a2)
{
  if ( !a2 )
    return 0;
  if ( !strcmp(a2, "LocalServerThread") )
    return this;
  return (QThread *)QThread::qt_metacast(this, a2);
}
// 1000619C: using guessed type void *__thiscall QThread::qt_metacast(QThread *__hidden this, const char *);

//----- (100017C0) --------------------------------------------------------
int __thiscall sub_100017C0(_DWORD *this, int a2, int a3, _DWORD **a4)
{
  int result; // eax
  int v6; // esi

  result = QThread::qt_metacall(this, a2, a3, a4);
  v6 = result;
  if ( result < 0 )
    return result;
  if ( a2 )
  {
    if ( a2 != 12 )
      return v6;
    if ( result < 2 )
      **a4 = -1;
    return result - 2;
  }
  if ( result >= 2 )
    return result - 2;
  if ( result )
    sub_100035B0(this);
  else
    sub_10003620((int)this);
  return v6 - 2;
}
// 100017F0: conditional instruction was optimized away because of 'eax.4==1'
// 10006198: using guessed type int __thiscall QThread::qt_metacall(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10001840) --------------------------------------------------------
int *__thiscall sub_10001840(_DWORD *this)
{
  QObjectData *v1; // ecx
  int *result; // eax

  v1 = (QObjectData *)this[1];
  if ( *((_DWORD *)v1 + 6) )
    result = (int *)QObjectData::dynamicMetaObject(v1);
  else
    result = &dword_1000A078;
  return result;
}
// 100061AC: using guessed type struct QMetaObject *__thiscall QObjectData::dynamicMetaObject(QObjectData *__hidden this);
// 1000A078: using guessed type int dword_1000A078;

//----- (10001860) --------------------------------------------------------
char *__thiscall sub_10001860(void *this, char a2)
{
  char *result; // eax

  if ( (a2 & 2) != 0 )
  {
    `eh vector destructor iterator'(
      this,
      0xCu,
      *((_DWORD *)this - 1),
      (void (__thiscall *)(void *))HeartbeatClient::~HeartbeatClient);
    if ( (a2 & 1) != 0 )
      operator delete[]((char *)this - 4);
    result = (char *)this - 4;
  }
  else
  {
    QObject::~QObject((QObject *)this);
    if ( (a2 & 1) != 0 )
      operator delete(this);
    result = (char *)this;
  }
  return result;
}
// 100061B8: using guessed type void __thiscall QObject::~QObject(QObject *__hidden this);

//----- (100018C0) --------------------------------------------------------
HeartbeatClient *__thiscall HeartbeatClient::HeartbeatClient(HeartbeatClient *this, struct QObject *a2)
{
  QLocalSocket *v3; // eax
  QLocalSocket *v4; // edi

  QObject::QObject(this, a2);
  *(_DWORD *)this = &HeartbeatClient::`vftable';
  v3 = (QLocalSocket *)operator new(8u);
  v4 = v3;
  if ( v3 )
  {
    QLocalSocket::QLocalSocket(v3, this);
    *(_DWORD *)v4 = &QLocalSocket::`vftable';
    *((_DWORD *)this + 2) = v4;
  }
  else
  {
    *((_DWORD *)this + 2) = 0;
  }
  return this;
}
// 10006190: using guessed type QObject *__thiscall QObject::QObject(QObject *__hidden this, struct QObject *);
// 1000623C: using guessed type QLocalSocket *__thiscall QLocalSocket::QLocalSocket(QLocalSocket *__hidden this, struct QObject *);
// 10006774: using guessed type void *QLocalSocket::`vftable';
// 100067E4: using guessed type void *HeartbeatClient::`vftable';

//----- (10001950) --------------------------------------------------------
void *__thiscall sub_10001950(void *this, char a2)
{
  QLocalSocket::~QLocalSocket((QLocalSocket *)this);
  if ( (a2 & 1) != 0 )
    operator delete(this);
  return this;
}
// 10006208: using guessed type void __thiscall QLocalSocket::~QLocalSocket(QLocalSocket *__hidden this);

//----- (10001980) --------------------------------------------------------
char __thiscall HeartbeatClient::connectToServer(HeartbeatClient *this)
{
  QLocalSocket *v2; // ecx
  int v4; // ecx
  _DWORD v5[4]; // [esp-4h] [ebp-24h] BYREF
  char v6[4]; // [esp+Ch] [ebp-14h] BYREF
  int v7; // [esp+10h] [ebp-10h] BYREF
  int v8; // [esp+1Ch] [ebp-4h]

  v2 = (QLocalSocket *)*((_DWORD *)this + 2);
  if ( !v2 )
    return 0;
  QLocalSocket::abort(v2);
  v7 = QString::fromAscii_helper("sgup_ipc_server_heartbeat");
  v5[0] = 3;
  v4 = *((_DWORD *)this + 2);
  v5[3] = v5;
  v8 = 0;
  QLocalSocket::connectToServer(v4, &v7, 3);
  v8 = -1;
  QString::~QString((QString *)&v7);
  QLocalSocket::waitForConnected(*((QLocalSocket **)this + 2), 1000);
  if ( QLocalSocket::state(*((_DWORD *)this + 2)) != 3 )
    return 0;
  QObject::connect(v6, *((_DWORD *)this + 2), "2disconnected()", this, "1onDisconnected()", 0);
  QMetaObject::Connection::~Connection((QMetaObject::Connection *)v6);
  return 1;
}
// 10006150: using guessed type int __cdecl QString::fromAscii_helper(_DWORD);
// 10006154: using guessed type int __cdecl QObject::connect(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 10006158: using guessed type void __thiscall QMetaObject::Connection::~Connection(QMetaObject::Connection *__hidden this);
// 100061A0: using guessed type void __thiscall QString::~QString(QString *__hidden this);
// 100061F8: using guessed type void __thiscall QLocalSocket::abort(QLocalSocket *__hidden this);
// 100061FC: using guessed type int __thiscall QLocalSocket::connectToServer(_DWORD, _DWORD, _DWORD);
// 10006200: using guessed type bool __thiscall QLocalSocket::waitForConnected(QLocalSocket *__hidden this, _DWORD);
// 10006204: using guessed type int __thiscall QLocalSocket::state(_DWORD);

//----- (10001A60) --------------------------------------------------------
int __thiscall sub_10001A60(int this, void *a2)
{
  QLocalSocket *v3; // eax
  QLocalSocket *v4; // edi

  QObject::QObject((QObject *)this, (struct QObject *)a2);
  *(_DWORD *)this = &LocalClient::`vftable';
  v3 = (QLocalSocket *)operator new(8u);
  v4 = v3;
  if ( v3 )
  {
    QLocalSocket::QLocalSocket(v3, (struct QObject *)this);
    *(_DWORD *)v4 = &QLocalSocket::`vftable';
  }
  else
  {
    v4 = 0;
  }
  *(_DWORD *)(this + 8) = v4;
  *(_BYTE *)(this + 12) = 0;
  *(_DWORD *)(this + 20) = 0;
  *(_BYTE *)(this + 18) = 0;
  return this;
}
// 10006190: using guessed type QObject *__thiscall QObject::QObject(QObject *__hidden this, struct QObject *);
// 1000623C: using guessed type QLocalSocket *__thiscall QLocalSocket::QLocalSocket(QLocalSocket *__hidden this, struct QObject *);
// 10006774: using guessed type void *QLocalSocket::`vftable';
// 10006854: using guessed type void *LocalClient::`vftable';

//----- (10001AF0) --------------------------------------------------------
void __thiscall sub_10001AF0(int this)
{
  QLocalSocket *v2; // ecx

  v2 = *(QLocalSocket **)(this + 8);
  if ( v2 )
  {
    *(_BYTE *)(this + 18) = 1;
    QLocalSocket::disconnectFromServer(v2);
  }
}
// 100061F4: using guessed type void __thiscall QLocalSocket::disconnectFromServer(QLocalSocket *__hidden this);

//----- (10001B10) --------------------------------------------------------
void __thiscall sub_10001B10(_BYTE *this)
{
  HANDLE v1; // eax

  if ( !this[18] )
  {
    v1 = GetCurrentProcess();
    TerminateProcess(v1, 0);
  }
}

//----- (10001B30) --------------------------------------------------------
void *__thiscall sub_10001B30(void *this, char a2)
{
  *(_DWORD *)this = &LocalClient::`vftable';
  QObject::~QObject((QObject *)this);
  if ( (a2 & 1) != 0 )
    operator delete(this);
  return this;
}
// 100061B8: using guessed type void __thiscall QObject::~QObject(QObject *__hidden this);
// 10006854: using guessed type void *LocalClient::`vftable';

//----- (10001B60) --------------------------------------------------------
char __thiscall sub_10001B60(int this)
{
  int v2; // ecx
  int v4; // ecx
  _DWORD *v5; // eax
  _DWORD *v6; // edi
  int v7; // edx
  int v8; // [esp-4h] [ebp-2Ch] BYREF
  void *v9; // [esp+10h] [ebp-18h]
  char v10[4]; // [esp+14h] [ebp-14h] BYREF
  int v11; // [esp+18h] [ebp-10h] BYREF
  int v12; // [esp+24h] [ebp-4h]

  v2 = *(_DWORD *)(this + 8);
  if ( !v2 )
    return 0;
  if ( QLocalSocket::state(v2) != 3 )
  {
    QLocalSocket::abort(*(QLocalSocket **)(this + 8));
    v11 = QString::fromAscii_helper("sgup_ipc_server");
    v8 = 3;
    v4 = *(_DWORD *)(this + 8);
    v9 = &v8;
    v12 = 0;
    QLocalSocket::connectToServer(v4, &v11, 3);
    v12 = -1;
    QString::~QString((QString *)&v11);
    QLocalSocket::waitForConnected(*(QLocalSocket **)(this + 8), 1000);
    if ( QLocalSocket::state(*(_DWORD *)(this + 8)) != 3 )
      return 0;
    if ( QCoreApplication::self )
    {
      dword_1000A218 = (int)QCoreApplication::self;
    }
    else
    {
      v5 = operator new(8u);
      v6 = v5;
      v9 = v5;
      v12 = 1;
      if ( v5 )
      {
        QCoreApplication::QCoreApplication((QCoreApplication *)v5, &dword_1000A21C, 0, 328961);
        *v6 = &QCoreApplication::`vftable';
        v12 = -1;
        dword_1000A218 = (int)v6;
      }
      else
      {
        v12 = -1;
        dword_1000A218 = 0;
      }
    }
    v7 = *(_DWORD *)(this + 8);
    v8 = 0;
    *(_BYTE *)(this + 12) = 0;
    QObject::connect(&v11, v7, "2readyRead()", this, "1onReadyRead()", v8);
    QMetaObject::Connection::~Connection((QMetaObject::Connection *)&v11);
    QObject::connect(v10, *(_DWORD *)(this + 8), "2disconnected()", this, "1onDisconnected()", 0);
    QMetaObject::Connection::~Connection((QMetaObject::Connection *)v10);
  }
  return 1;
}
// 10006148: using guessed type struct QCoreApplication *QCoreApplication::self;
// 1000614C: using guessed type QCoreApplication *__thiscall QCoreApplication::QCoreApplication(QCoreApplication *__hidden this, int *, char **, _DWORD);
// 10006150: using guessed type int __cdecl QString::fromAscii_helper(_DWORD);
// 10006154: using guessed type int __cdecl QObject::connect(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 10006158: using guessed type void __thiscall QMetaObject::Connection::~Connection(QMetaObject::Connection *__hidden this);
// 100061A0: using guessed type void __thiscall QString::~QString(QString *__hidden this);
// 100061F8: using guessed type void __thiscall QLocalSocket::abort(QLocalSocket *__hidden this);
// 100061FC: using guessed type int __thiscall QLocalSocket::connectToServer(_DWORD, _DWORD, _DWORD);
// 10006200: using guessed type bool __thiscall QLocalSocket::waitForConnected(QLocalSocket *__hidden this, _DWORD);
// 10006204: using guessed type int __thiscall QLocalSocket::state(_DWORD);
// 100068A4: using guessed type void *QCoreApplication::`vftable';
// 1000A218: using guessed type int dword_1000A218;

//----- (10001CE0) --------------------------------------------------------
void *__thiscall sub_10001CE0(void *this, char a2)
{
  QCoreApplication::~QCoreApplication((QCoreApplication *)this);
  if ( (a2 & 1) != 0 )
    operator delete(this);
  return this;
}
// 1000612C: using guessed type void __thiscall QCoreApplication::~QCoreApplication(QCoreApplication *__hidden this);

//----- (10001D40) --------------------------------------------------------
void __thiscall sub_10001D40(int this)
{
  __int64 v2; // rax
  bool v3; // zf
  __int64 v4; // rax
  int v5; // eax
  int v6; // edi
  char *v7; // eax
  char *v8; // eax
  void (__cdecl *v9)(_DWORD, char *); // ecx
  __int64 v10; // rax
  int v11; // [esp+0h] [ebp-38h]
  char v12[16]; // [esp+10h] [ebp-28h] BYREF
  int v13; // [esp+20h] [ebp-18h]
  char v14[4]; // [esp+28h] [ebp-10h] BYREF
  int v15; // [esp+34h] [ebp-4h]

  LODWORD(v2) = (*(int (__thiscall **)(_DWORD))(**(_DWORD **)(this + 8) + 76))(*(_DWORD *)(this + 8));
  if ( v2 > 0 )
  {
    while ( 1 )
    {
      QDataStream::QDataStream((QDataStream *)v12, *(struct QIODevice **)(this + 8));
      v3 = *(_BYTE *)(this + 12) == 0;
      v15 = 0;
      v13 = 13;
      if ( v3 )
      {
        LODWORD(v4) = (*(int (__thiscall **)(_DWORD))(**(_DWORD **)(this + 8) + 76))(*(_DWORD *)(this + 8));
        if ( v4 < 4 )
          goto LABEL_11;
        v5 = QDataStream::operator>>(v12, this + 14);
        QDataStream::operator>>(v5, this + 16);
      }
      v6 = *(unsigned __int16 *)(this + 16);
      if ( ((__int64 (__thiscall *)(_DWORD))*(_DWORD *)(**(_DWORD **)(this + 8) + 76))(*(_DWORD *)(this + 8)) < v6 )
        break;
      *(_BYTE *)(this + 12) = 0;
      QByteArray::QByteArray((QByteArray *)v14, v6, 0);
      LOBYTE(v15) = 1;
      v7 = QByteArray::data((QByteArray *)v14);
      QDataStream::readRawData((QDataStream *)v12, v7, v11);
      v8 = QByteArray::data((QByteArray *)v14);
      v9 = *(void (__cdecl **)(_DWORD, char *))(this + 20);
      if ( v9 )
        v9(*(unsigned __int16 *)(this + 14), v8);
      LOBYTE(v15) = 0;
      QByteArray::~QByteArray((QByteArray *)v14);
      v15 = -1;
      QDataStream::~QDataStream((QDataStream *)v12);
      LODWORD(v10) = (*(int (__thiscall **)(_DWORD))(**(_DWORD **)(this + 8) + 76))(*(_DWORD *)(this + 8));
      if ( v10 <= 0 )
        return;
    }
    *(_BYTE *)(this + 12) = 1;
LABEL_11:
    v15 = -1;
    QDataStream::~QDataStream((QDataStream *)v12);
  }
}
// 10001D80: variable 'v2' is possibly undefined
// 10001DBE: variable 'v4' is possibly undefined
// 10001E28: variable 'v11' is possibly undefined
// 10001E7C: variable 'v10' is possibly undefined
// 100060B8: using guessed type _DWORD __thiscall QDataStream::readRawData(QDataStream *__hidden this, char *, _DWORD);
// 100060BC: using guessed type char *__thiscall QByteArray::data(QByteArray *__hidden this);
// 100060C0: using guessed type QByteArray *__thiscall QByteArray::QByteArray(QByteArray *__hidden this, _DWORD, char);
// 100060C4: using guessed type int __thiscall QDataStream::operator>>(_DWORD, _DWORD);
// 100060C8: using guessed type QDataStream *__thiscall QDataStream::QDataStream(QDataStream *__hidden this, struct QIODevice *);
// 10006118: using guessed type void __thiscall QDataStream::~QDataStream(QDataStream *__hidden this);
// 1000611C: using guessed type void __thiscall QByteArray::~QByteArray(QByteArray *__hidden this);

//----- (10001EC0) --------------------------------------------------------
QObject *__thiscall sub_10001EC0(QObject *this, struct QObject *a2)
{
  QLocalSocket *v3; // eax
  QLocalSocket *v4; // edi

  QObject::QObject(this, a2);
  *(_DWORD *)this = &LocalClientInternal::`vftable';
  v3 = (QLocalSocket *)operator new(8u);
  v4 = v3;
  if ( v3 )
  {
    QLocalSocket::QLocalSocket(v3, this);
    *(_DWORD *)v4 = &QLocalSocket::`vftable';
  }
  else
  {
    v4 = 0;
  }
  *((_DWORD *)this + 2) = v4;
  *((_DWORD *)this + 3) = 0;
  *((_DWORD *)this + 4) = 0;
  *((_DWORD *)this + 8) = 0;
  *((_DWORD *)this + 5) = 0;
  *((_DWORD *)this + 6) = 0;
  *((_DWORD *)this + 7) = 0;
  return this;
}
// 10006190: using guessed type QObject *__thiscall QObject::QObject(QObject *__hidden this, struct QObject *);
// 1000623C: using guessed type QLocalSocket *__thiscall QLocalSocket::QLocalSocket(QLocalSocket *__hidden this, struct QObject *);
// 10006774: using guessed type void *QLocalSocket::`vftable';
// 100068EC: using guessed type void *LocalClientInternal::`vftable';

//----- (10001F60) --------------------------------------------------------
void __thiscall sub_10001F60(_DWORD *this)
{
  QLocalSocket *v1; // ecx

  v1 = (QLocalSocket *)this[2];
  if ( v1 )
    QLocalSocket::disconnectFromServer(v1);
}
// 100061F4: using guessed type void __thiscall QLocalSocket::disconnectFromServer(QLocalSocket *__hidden this);

//----- (10001F70) --------------------------------------------------------
void __thiscall HeartbeatClient::onDisconnected(HeartbeatClient *this)
{
  HANDLE v1; // eax

  v1 = GetCurrentProcess();
  TerminateProcess(v1, 0);
}

//----- (10001F80) --------------------------------------------------------
int __thiscall sub_10001F80(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[3] = a2;
  return result;
}

//----- (10001FA0) --------------------------------------------------------
int __thiscall sub_10001FA0(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[8] = a2;
  return result;
}

//----- (10001FB0) --------------------------------------------------------
int __thiscall sub_10001FB0(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[5] = a2;
  return result;
}

//----- (10001FC0) --------------------------------------------------------
int __thiscall sub_10001FC0(_DWORD *this, int a2)
{
  int result; // eax

  result = a2;
  this[6] = a2;
  return result;
}

//----- (10001FE0) --------------------------------------------------------
errno_t __cdecl sub_10001FE0(char *Destination, char *Source, rsize_t MaxCount)
{
  return strncpy_s(Destination, 0x400u, Source, MaxCount);
}

//----- (10002000) --------------------------------------------------------
void *__thiscall sub_10002000(void *this, char a2)
{
  *(_DWORD *)this = &LocalClientInternal::`vftable';
  QObject::~QObject((QObject *)this);
  if ( (a2 & 1) != 0 )
    operator delete(this);
  return this;
}
// 100061B8: using guessed type void __thiscall QObject::~QObject(QObject *__hidden this);
// 100068EC: using guessed type void *LocalClientInternal::`vftable';

//----- (10002030) --------------------------------------------------------
char __thiscall sub_10002030(QLocalSocket **this)
{
  QLocalSocket *v2; // ecx
  QLocalSocket *v4; // ecx
  _DWORD v5[6]; // [esp-4h] [ebp-2Ch] BYREF
  char v6[4]; // [esp+14h] [ebp-14h] BYREF
  int v7; // [esp+18h] [ebp-10h] BYREF
  int v8; // [esp+24h] [ebp-4h]

  v2 = this[2];
  if ( !v2 )
    return 0;
  QLocalSocket::abort(v2);
  v7 = QString::fromAscii_helper("sgup_ipc_server_persistent");
  v5[0] = 3;
  v4 = this[2];
  v5[5] = v5;
  v8 = 0;
  QLocalSocket::connectToServer(v4, &v7, 3);
  v8 = -1;
  QString::~QString((QString *)&v7);
  QLocalSocket::waitForConnected(this[2], 1000);
  if ( QLocalSocket::state(this[2]) != 3 )
    return 0;
  QObject::connect(&v7, this[2], "2readyRead()", this, "1onReadyRead()", 0);
  QMetaObject::Connection::~Connection((QMetaObject::Connection *)&v7);
  QObject::connect(v6, this[2], "2disconnected()", this, "1onDisconnected()", 0);
  QMetaObject::Connection::~Connection((QMetaObject::Connection *)v6);
  return 1;
}
// 10006150: using guessed type int __cdecl QString::fromAscii_helper(_DWORD);
// 10006154: using guessed type int __cdecl QObject::connect(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 10006158: using guessed type void __thiscall QMetaObject::Connection::~Connection(QMetaObject::Connection *__hidden this);
// 100061A0: using guessed type void __thiscall QString::~QString(QString *__hidden this);
// 100061F8: using guessed type void __thiscall QLocalSocket::abort(QLocalSocket *__hidden this);
// 100061FC: using guessed type int __thiscall QLocalSocket::connectToServer(_DWORD, _DWORD, _DWORD);
// 10006200: using guessed type bool __thiscall QLocalSocket::waitForConnected(QLocalSocket *__hidden this, _DWORD);
// 10006204: using guessed type int __thiscall QLocalSocket::state(_DWORD);

//----- (10002140) --------------------------------------------------------
char __thiscall sub_10002140(QIODevice **this, int a2, const char *a3, int a4)
{
  QIODevice *v5; // ecx
  int v7; // [esp-4h] [ebp-40h] BYREF
  char v8[16]; // [esp+10h] [ebp-2Ch] BYREF
  int v9; // [esp+20h] [ebp-1Ch]
  int *v10; // [esp+28h] [ebp-14h]
  char v11[4]; // [esp+2Ch] [ebp-10h] BYREF
  int v12; // [esp+38h] [ebp-4h]

  v5 = this[2];
  if ( !v5 || QLocalSocket::state(v5) != 3 )
    return 0;
  QByteArray::QByteArray((QByteArray *)v11);
  v10 = &v7;
  v12 = 0;
  QDataStream::QDataStream(v8, v11, 2);
  LOBYTE(v12) = 1;
  v9 = 13;
  QDataStream::operator<<(v8, a2);
  QDataStream::operator<<(v8, a4);
  QDataStream::writeRawData((QDataStream *)v8, a3, (unsigned __int16)a4);
  QIODevice::write(this[2], (const struct QByteArray *)v11);
  QLocalSocket::flush(this[2]);
  LOBYTE(v12) = 0;
  QDataStream::~QDataStream((QDataStream *)v8);
  v12 = -1;
  QByteArray::~QByteArray((QByteArray *)v11);
  return 1;
}
// 100060B0: using guessed type int __thiscall QDataStream::QDataStream(_DWORD, _DWORD, _DWORD);
// 100060B4: using guessed type QByteArray *__thiscall QByteArray::QByteArray(QByteArray *__hidden this);
// 100060E0: using guessed type int __thiscall QDataStream::operator<<(_DWORD, _DWORD);
// 10006110: using guessed type _DWORD __thiscall QDataStream::writeRawData(QDataStream *__hidden this, const char *, _DWORD);
// 10006114: using guessed type __int64 __thiscall QIODevice::write(QIODevice *__hidden this, const struct QByteArray *);
// 10006118: using guessed type void __thiscall QDataStream::~QDataStream(QDataStream *__hidden this);
// 1000611C: using guessed type void __thiscall QByteArray::~QByteArray(QByteArray *__hidden this);
// 100061F0: using guessed type bool __thiscall QLocalSocket::flush(QLocalSocket *__hidden this);
// 10006204: using guessed type int __thiscall QLocalSocket::state(_DWORD);

//----- (10002240) --------------------------------------------------------
void __thiscall sub_10002240(int this, __int16 a2, _DWORD *a3, int a4)
{
  int v4; // ebx
  _BYTE *v5; // eax
  _DWORD *v6; // esi
  void (__thiscall ***v7)(_DWORD, char *); // ebx
  void (__thiscall **v8)(_DWORD, char *); // edx
  char *v9; // eax
  void (__thiscall ***v10)(_DWORD, char *); // ecx
  char *v11; // ebx
  void (__thiscall ***v12)(_DWORD, char *); // ecx
  char *v13; // ebx
  _DWORD *v15; // [esp+4h] [ebp-824h]
  void *v16; // [esp+4h] [ebp-824h]
  char v17; // [esp+Bh] [ebp-81Dh] BYREF
  char v18[2056]; // [esp+Ch] [ebp-81Ch] BYREF
  char v19[4]; // [esp+814h] [ebp-14h] BYREF
  int v20; // [esp+818h] [ebp-10h]
  char v21; // [esp+81Ch] [ebp-Ch]
  int v22; // [esp+820h] [ebp-8h]

  v4 = this;
  switch ( a2 )
  {
    case 8:
      if ( *(_DWORD *)(this + 12) )
      {
        v5 = operator new(0x401u);
        qmemcpy(v5, a3, 0x400u);
        v15 = v5;
        v5[1024] = *((_BYTE *)a3 + 1024);
        strncpy(&v18[1028], v5, 0x400u);
        v6 = v15;
        v7 = *(void (__thiscall ****)(_DWORD, char *))(v4 + 12);
        v18[2052] = *((_BYTE *)v15 + 1024);
        v8 = *v7;
        v9 = &v18[1028];
        v10 = v7;
        goto LABEL_18;
      }
      break;
    case 10:
      if ( *(_DWORD *)(this + 16) )
      {
        v6 = operator new(0x10u);
        *v6 = *a3;
        v6[1] = a3[1];
        v6[2] = a3[2];
        v6[3] = a3[3];
        v21 = *((_BYTE *)v6 + 8);
        v20 = v6[1];
        v19[0] = *(_BYTE *)v6;
        v19[2] = *((_BYTE *)v6 + 2);
        v22 = v6[3];
        v10 = *(void (__thiscall ****)(_DWORD, char *))(v4 + 16);
        v19[1] = *((_BYTE *)v6 + 1);
        v19[3] = *((_BYTE *)v6 + 3);
        v9 = v19;
        goto LABEL_17;
      }
      break;
    case 12:
      if ( *(_DWORD *)(this + 32) )
      {
        v16 = operator new(0x400u);
        qmemcpy(v16, a3, 0x400u);
        strncpy(&v18[1032], (const char *)v16, 0x400u);
        (***(void (__thiscall ****)(_DWORD, char *))(v4 + 32))(*(_DWORD *)(v4 + 32), &v18[1032]);
        operator delete(v16);
      }
      break;
    case 14:
      if ( *(_DWORD *)(this + 20) )
      {
        v11 = (char *)operator new(0x508u);
        qmemcpy(v11, a3, 0x508u);
        strncpy(&v18[776], v11 + 8, 0x100u);
        strncpy(&v18[1032], v11 + 264, 0x400u);
        v12 = *(void (__thiscall ****)(_DWORD, char *))(this + 20);
        *(_DWORD *)&v18[772] = *(_DWORD *)v11;
        (**v12)(v12, &v18[772]);
        operator delete(v11);
      }
      break;
    case 16:
      if ( *(_DWORD *)(this + 24) )
      {
        v13 = (char *)operator new(0x80Cu);
        qmemcpy(v13, a3, 0x80Cu);
        memset(v18, 0, sizeof(v18));
        if ( *v13 )
        {
          *(_DWORD *)&v18[2052] = *((_DWORD *)v13 + 1);
        }
        else
        {
          sub_10001FE0(v18, v13 + 8, strlen(v13 + 8));
          sub_10001FE0(&v18[1024], v13 + 1032, strlen(v13 + 1032));
          *(_DWORD *)&v18[2048] = *((_DWORD *)v13 + 514);
          *(_DWORD *)&v18[2052] = 0;
        }
        (***(void (__thiscall ****)(_DWORD, char *))(this + 24))(*(_DWORD *)(this + 24), v18);
        operator delete(v13);
      }
      break;
    case 17:
      if ( *(_DWORD *)(this + 28) )
      {
        v6 = operator new(1u);
        *(_BYTE *)v6 = *(_BYTE *)a3;
        v10 = *(void (__thiscall ****)(_DWORD, char *))(v4 + 28);
        v17 = 0;
        v17 = *(_BYTE *)v6;
        v9 = &v17;
LABEL_17:
        v8 = *v10;
LABEL_18:
        (*v8)(v10, v9);
        operator delete(v6);
      }
      break;
    default:
      return;
  }
}

//----- (10002540) --------------------------------------------------------
void __thiscall sub_10002540(_DWORD **this)
{
  __int64 v2; // rax
  _DWORD *v3; // ecx
  int (__thiscall *v4)(_DWORD *); // eax
  __int64 v5; // rax
  char *v6; // eax
  char *v7; // eax
  __int64 v8; // rax
  struct QIODevice *v9; // [esp-4h] [ebp-40h]
  int v10; // [esp-4h] [ebp-40h]
  int v11; // [esp-4h] [ebp-40h]
  char v12[16]; // [esp+Ch] [ebp-30h] BYREF
  int v13; // [esp+1Ch] [ebp-20h]
  int v14; // [esp+24h] [ebp-18h] BYREF
  int v15; // [esp+28h] [ebp-14h] BYREF
  char v16[4]; // [esp+2Ch] [ebp-10h] BYREF
  int v17; // [esp+38h] [ebp-4h]

  do
    LODWORD(v2) = (*(int (__thiscall **)(_DWORD *))(*this[2] + 76))(this[2]);
  while ( v2 < 2 );
  QByteArray::QByteArray((QByteArray *)v16);
  v9 = (struct QIODevice *)this[2];
  v17 = 0;
  QDataStream::QDataStream((QDataStream *)v12, v9);
  v3 = this[2];
  v13 = 13;
  v4 = *(int (__thiscall **)(_DWORD *))(*v3 + 76);
  LOBYTE(v17) = 1;
  LODWORD(v5) = v4(v3);
  if ( v5 >= 2 )
  {
    QDataStream::operator>>(v12, &v14);
    QDataStream::operator>>(v12, &v15);
    QByteArray::resize((QByteArray *)v16, (unsigned __int16)v15);
    v6 = QByteArray::data((QByteArray *)v16);
    QDataStream::readRawData((QDataStream *)v12, v6, v10);
    v7 = QByteArray::data((QByteArray *)v16);
    sub_10002240((int)this, v14, v7, v11);
    LODWORD(v8) = (*(int (__thiscall **)(_DWORD *))(*this[2] + 76))(this[2]);
    if ( v8 > 0 )
      sub_10002540();
  }
  LOBYTE(v17) = 0;
  QDataStream::~QDataStream((QDataStream *)v12);
  v17 = -1;
  QByteArray::~QByteArray((QByteArray *)v16);
}
// 10002583: variable 'v2' is possibly undefined
// 100025C0: variable 'v5' is possibly undefined
// 100025FA: variable 'v10' is possibly undefined
// 10002614: variable 'v11' is possibly undefined
// 1000262B: variable 'v8' is possibly undefined
// 100060B4: using guessed type QByteArray *__thiscall QByteArray::QByteArray(QByteArray *__hidden this);
// 100060B8: using guessed type _DWORD __thiscall QDataStream::readRawData(QDataStream *__hidden this, char *, _DWORD);
// 100060BC: using guessed type char *__thiscall QByteArray::data(QByteArray *__hidden this);
// 100060C4: using guessed type int __thiscall QDataStream::operator>>(_DWORD, _DWORD);
// 100060C8: using guessed type QDataStream *__thiscall QDataStream::QDataStream(QDataStream *__hidden this, struct QIODevice *);
// 100060CC: using guessed type void __thiscall QByteArray::resize(QByteArray *__hidden this, _DWORD);
// 10006118: using guessed type void __thiscall QDataStream::~QDataStream(QDataStream *__hidden this);
// 1000611C: using guessed type void __thiscall QByteArray::~QByteArray(QByteArray *__hidden this);

//----- (10002670) --------------------------------------------------------
void __thiscall HeartbeatServer::end(HeartbeatServer *this)
{
  QLocalServer *v2; // ecx
  int v3; // ecx

  v2 = (QLocalServer *)*((_DWORD *)this + 2);
  if ( v2 )
  {
    QLocalServer::close(v2);
    v3 = *((_DWORD *)this + 2);
    if ( v3 )
      (*(void (__thiscall **)(int, int))(*(_DWORD *)v3 + 12))(v3, 1);
    *((_DWORD *)this + 2) = 0;
  }
}
// 100061EC: using guessed type void __thiscall QLocalServer::close(QLocalServer *__hidden this);

//----- (100026A0) --------------------------------------------------------
QListData *__thiscall sub_100026A0(QListData *this, int *a2)
{
  int v3; // eax
  void *v5; // [esp-Ch] [ebp-30h]
  int v6; // [esp-8h] [ebp-2Ch]
  void *v7; // [esp-4h] [ebp-28h]
  _DWORD v8[9]; // [esp+0h] [ebp-24h] BYREF

  v8[5] = v8;
  v8[4] = this;
  v3 = *a2;
  *(_DWORD *)this = *a2;
  if ( *(_DWORD *)v3 )
  {
    if ( *(_DWORD *)v3 != -1 )
      _InterlockedExchangeAdd((volatile signed __int32 *)v3, 1u);
  }
  else
  {
    QListData::detach(this, *(_DWORD *)(v3 + 4));
    v7 = (void *)(*a2 + 4 * *(_DWORD *)(*a2 + 8) + 16);
    v6 = *(_DWORD *)this + 4 * *(_DWORD *)(*(_DWORD *)this + 12) + 16;
    v5 = (void *)(*(_DWORD *)this + 4 * *(_DWORD *)(*(_DWORD *)this + 8) + 16);
    v8[8] = 0;
    sub_10002CF0(v5, v6, v7);
  }
  return this;
}
// 100060D4: using guessed type struct QListData::Data *__thiscall QListData::detach(QListData *__hidden this, _DWORD);
// 100061A4: using guessed type void __cdecl static QListData::dispose(struct QListData::Data *);

//----- (10002760) --------------------------------------------------------
void __thiscall sub_10002760(QListData *this, int a2)
{
  void *v3; // ebx
  struct QListData::Data *v4; // edi
  int v5; // eax
  void *v6; // [esp-Ch] [ebp-30h]
  int v7; // [esp-8h] [ebp-2Ch]
  _DWORD v8[6]; // [esp+0h] [ebp-24h] BYREF
  int v9; // [esp+20h] [ebp-4h]

  v8[5] = v8;
  v8[4] = this;
  v3 = (void *)(*(_DWORD *)this + 4 * *(_DWORD *)(*(_DWORD *)this + 8) + 16);
  v4 = QListData::detach(this, a2);
  v7 = *(_DWORD *)this + 4 * *(_DWORD *)(*(_DWORD *)this + 12) + 16;
  v6 = (void *)(*(_DWORD *)this + 4 * *(_DWORD *)(*(_DWORD *)this + 8) + 16);
  v9 = 0;
  sub_10002CF0(v6, v7, v3);
  v5 = *(_DWORD *)v4;
  v9 = -1;
  if ( !v5 || v5 != -1 && !_InterlockedExchangeAdd((volatile signed __int32 *)v4, 0xFFFFFFFF) )
    QListData::dispose(v4);
}
// 100060D4: using guessed type struct QListData::Data *__thiscall QListData::detach(QListData *__hidden this, _DWORD);
// 100061A4: using guessed type void __cdecl static QListData::dispose(struct QListData::Data *);

//----- (10002830) --------------------------------------------------------
char *__thiscall sub_10002830(void *this, char a2)
{
  char *result; // eax

  if ( (a2 & 2) != 0 )
  {
    `eh vector destructor iterator'(
      this,
      0x14u,
      *((_DWORD *)this - 1),
      (void (__thiscall *)(void *))LocalServer::~LocalServer);
    if ( (a2 & 1) != 0 )
      operator delete[]((char *)this - 4);
    result = (char *)this - 4;
  }
  else
  {
    LocalServer::~LocalServer((LocalServer *)this);
    if ( (a2 & 1) != 0 )
      operator delete(this);
    result = (char *)this;
  }
  return result;
}

//----- (10002890) --------------------------------------------------------
_DWORD *__thiscall HeartbeatServer::HeartbeatServer(_DWORD *this, struct QObject *a2, char a3)
{
  QObject::QObject((QObject *)this, a2);
  *this = &HeartbeatServer::`vftable';
  QString::QString((QString *)(this + 3));
  this[4] = QListData::shared_null;
  QString::operator=(this + 3, &a3);
  this[2] = 0;
  QString::~QString((QString *)&a3);
  return this;
}
// 100060DC: using guessed type int __thiscall QString::operator=(_DWORD, _DWORD);
// 10006190: using guessed type QObject *__thiscall QObject::QObject(QObject *__hidden this, struct QObject *);
// 100061A0: using guessed type void __thiscall QString::~QString(QString *__hidden this);
// 100061BC: using guessed type QString *__thiscall QString::QString(QString *__hidden this);
// 10006938: using guessed type void *HeartbeatServer::`vftable';

//----- (10002920) --------------------------------------------------------
bool __thiscall HeartbeatServer::start(HeartbeatServer *this)
{
  _DWORD *v2; // eax
  _DWORD *v3; // edi
  int v4; // ecx
  bool result; // al
  struct QListData::Data *v6; // eax
  int v7; // [esp-4h] [ebp-20h] BYREF
  void *v8; // [esp+Ch] [ebp-10h] BYREF
  int v9; // [esp+18h] [ebp-4h]

  if ( !*((_DWORD *)this + 2) )
  {
    v2 = operator new(8u);
    v3 = v2;
    v8 = v2;
    v9 = 0;
    if ( v2 )
    {
      QLocalServer::QLocalServer((QLocalServer *)v2, this);
      *v3 = &QLocalServer::`vftable';
    }
    else
    {
      v3 = 0;
    }
    *((_DWORD *)this + 2) = v3;
    v7 = 7;
    v4 = *((_DWORD *)this + 2);
    v9 = -1;
    v8 = &v7;
    QLocalServer::setSocketOptions(v4, 7);
    result = QLocalServer::listen(*((QLocalServer **)this + 2), (HeartbeatServer *)((char *)this + 12));
    if ( !result )
      return result;
    QObject::connect(&v8, *((_DWORD *)this + 2), "2newConnection()", this, "1newConnection()", 0);
    QMetaObject::Connection::~Connection((QMetaObject::Connection *)&v8);
  }
  v6 = (struct QListData::Data *)*((_DWORD *)this + 4);
  *((_DWORD *)this + 4) = QListData::shared_null;
  if ( !*(_DWORD *)v6 || *(_DWORD *)v6 != -1 && !_InterlockedExchangeAdd((volatile signed __int32 *)v6, 0xFFFFFFFF) )
    QListData::dispose(v6);
  return 1;
}
// 10006154: using guessed type int __cdecl QObject::connect(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 10006158: using guessed type void __thiscall QMetaObject::Connection::~Connection(QMetaObject::Connection *__hidden this);
// 100061A4: using guessed type void __cdecl static QListData::dispose(struct QListData::Data *);
// 100061E0: using guessed type QLocalServer *__thiscall QLocalServer::QLocalServer(QLocalServer *__hidden this, struct QObject *);
// 100061E4: using guessed type int __thiscall QLocalServer::setSocketOptions(_DWORD, _DWORD);
// 100061E8: using guessed type bool __thiscall QLocalServer::listen(QLocalServer *__hidden this, const struct QString *);
// 10006990: using guessed type void *QLocalServer::`vftable';

//----- (10002A30) --------------------------------------------------------
void *__thiscall sub_10002A30(void *this, char a2)
{
  QLocalServer::~QLocalServer((QLocalServer *)this);
  if ( (a2 & 1) != 0 )
    operator delete(this);
  return this;
}
// 100061C4: using guessed type void __thiscall QLocalServer::~QLocalServer(QLocalServer *__hidden this);

//----- (10002A60) --------------------------------------------------------
void __thiscall HeartbeatServer::clearSocketList(HeartbeatServer *this)
{
  struct QListData::Data *v1; // eax

  v1 = (struct QListData::Data *)*((_DWORD *)this + 4);
  *((_DWORD *)this + 4) = QListData::shared_null;
  if ( !*(_DWORD *)v1 || *(_DWORD *)v1 != -1 && !_InterlockedExchangeAdd((volatile signed __int32 *)v1, 0xFFFFFFFF) )
    QListData::dispose(v1);
}
// 100061A4: using guessed type void __cdecl static QListData::dispose(struct QListData::Data *);

//----- (10002A90) --------------------------------------------------------
void __thiscall HeartbeatServer::disconnectAllClient(HeartbeatServer *this)
{
  struct QListData::Data **v1; // esi
  QLocalSocket **v2; // edx
  struct QListData::Data *v3; // ecx
  int v4; // eax
  struct QListData::Data *v5; // eax
  volatile signed __int32 *v6; // [esp+Ch] [ebp-1Ch] BYREF
  QLocalSocket **v7; // [esp+10h] [ebp-18h]
  volatile signed __int32 *v8; // [esp+14h] [ebp-14h]
  int v9; // [esp+18h] [ebp-10h]
  int v10; // [esp+24h] [ebp-4h]

  v1 = (struct QListData::Data **)((char *)this + 16);
  sub_100026A0((QListData *)&v6, (int *)this + 4);
  v2 = (QLocalSocket **)&v6[*((_DWORD *)v6 + 2) + 4];
  v7 = v2;
  v8 = &v6[*((_DWORD *)v6 + 3) + 4];
  v9 = 1;
  v10 = 0;
  while ( v2 != (QLocalSocket **)v8 )
  {
    if ( *v2 )
    {
      QLocalSocket::disconnectFromServer(*v2);
      v2 = v7;
    }
    v7 = ++v2;
    v9 = 1;
  }
  v3 = (struct QListData::Data *)v6;
  v4 = *v6;
  v10 = -1;
  if ( !v4 )
    goto LABEL_10;
  if ( v4 != -1 && !_InterlockedExchangeAdd(v6, 0xFFFFFFFF) )
  {
    v3 = (struct QListData::Data *)v6;
LABEL_10:
    QListData::dispose(v3);
  }
  v5 = *v1;
  *v1 = (struct QListData::Data *)QListData::shared_null;
  if ( !*(_DWORD *)v5 || *(_DWORD *)v5 != -1 && !_InterlockedExchangeAdd((volatile signed __int32 *)v5, 0xFFFFFFFF) )
    QListData::dispose(v5);
}
// 10002AF8: conditional instruction was optimized away because of 'eax.4!=0'
// 100061A4: using guessed type void __cdecl static QListData::dispose(struct QListData::Data *);
// 100061F4: using guessed type void __thiscall QLocalSocket::disconnectFromServer(QLocalSocket *__hidden this);

//----- (10002B90) --------------------------------------------------------
void __thiscall HeartbeatServer::newConnection(HeartbeatServer *this)
{
  void *v2; // edi
  char v3[4]; // [esp+4h] [ebp-8h] BYREF
  void *v4; // [esp+8h] [ebp-4h] BYREF

  while ( (*(unsigned __int8 (__thiscall **)(_DWORD))(**((_DWORD **)this + 2) + 44))(*((_DWORD *)this + 2)) )
  {
    v2 = (void *)(*(int (__thiscall **)(_DWORD))(**((_DWORD **)this + 2) + 48))(*((_DWORD *)this + 2));
    v4 = v2;
    sub_10003170((HeartbeatServer *)((char *)this + 16), &v4);
    QObject::connect(v3, v2, "2disconnected()", this, "1onDisconnected()", 0);
    QMetaObject::Connection::~Connection((QMetaObject::Connection *)v3);
  }
}
// 10006154: using guessed type int __cdecl QObject::connect(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 10006158: using guessed type void __thiscall QMetaObject::Connection::~Connection(QMetaObject::Connection *__hidden this);

//----- (10002C00) --------------------------------------------------------
char __thiscall sub_10002C00(QListData *this, _DWORD *a2)
{
  char *v2; // ecx
  int v3; // edx
  int v4; // edi
  int v5; // esi
  int v6; // edx
  char *v7; // eax
  int v9; // eax
  int v10; // esi

  v2 = *(char **)this;
  v3 = *((_DWORD *)v2 + 2);
  v4 = *((_DWORD *)v2 + 3) - v3;
  if ( v4 <= 0 )
    return 0;
  v5 = (int)&v2[4 * *((_DWORD *)v2 + 3) + 16];
  v6 = 4 * v3 + 16;
  v7 = &v2[v6];
  if ( &v2[v6] == (char *)v5 )
    return 0;
  while ( *(_DWORD *)v7 != *a2 )
  {
    v7 += 4;
    if ( v7 == (char *)v5 )
      return 0;
  }
  v9 = (&v7[-v6] - v2) >> 2;
  v10 = v9;
  if ( v9 == -1 )
    return 0;
  if ( v9 >= 0 && v9 < v4 )
  {
    if ( *(_DWORD *)v2 != 1 )
    {
      if ( *(_DWORD *)v2 )
        sub_10002760(this, *((_DWORD *)v2 + 1));
    }
    QListData::remove(this, v10);
  }
  return 1;
}
// 100060E8: using guessed type void __thiscall QListData::remove(QListData *__hidden this, _DWORD);

//----- (10002C90) --------------------------------------------------------
void __thiscall HeartbeatServer::onDisconnected(HeartbeatServer *this)
{
  struct QObject *v2; // [esp+4h] [ebp-4h] BYREF

  v2 = QObject::sender(this);
  if ( v2 )
    sub_10002C00((HeartbeatServer *)((char *)this + 16), &v2);
}
// 100060EC: using guessed type struct QObject *__thiscall QObject::sender(QObject *__hidden this);

//----- (10002CC0) --------------------------------------------------------
char __thiscall LocalServer::getPacket(LocalServer *this, struct QLocalSocket *a2, unsigned __int16 a3, char *a4, unsigned __int16 a5)
{
  if ( !a2 )
    return 0;
  (*(void (__thiscall **)(LocalServer *, struct QLocalSocket *, _DWORD, char *))(*(_DWORD *)this + 44))(
    this,
    a2,
    a3,
    a4);
  return 1;
}

//----- (10002CF0) --------------------------------------------------------
void __stdcall sub_10002CF0(void *a1, int a2, void *Src)
{
  int v3; // eax

  if ( Src != a1 )
  {
    v3 = (a2 - (int)a1) >> 2;
    if ( v3 > 0 )
      memcpy(a1, Src, 4 * v3);
  }
}

//----- (10002D20) --------------------------------------------------------
bool __thiscall LocalServer::start(LocalServer *this)
{
  _DWORD *v2; // eax
  _DWORD *v3; // edi
  int v4; // ecx
  bool result; // al
  _DWORD v6[5]; // [esp-4h] [ebp-24h] BYREF
  void *v7; // [esp+10h] [ebp-10h] BYREF
  int v8; // [esp+1Ch] [ebp-4h]

  if ( *((_DWORD *)this + 2) )
    goto LABEL_7;
  v2 = operator new(8u);
  v3 = v2;
  v7 = v2;
  v8 = 0;
  if ( v2 )
  {
    QLocalServer::QLocalServer((QLocalServer *)v2, this);
    *v3 = &QLocalServer::`vftable';
  }
  else
  {
    v3 = 0;
  }
  *((_DWORD *)this + 2) = v3;
  v6[0] = 7;
  v4 = *((_DWORD *)this + 2);
  v8 = -1;
  v6[4] = v6;
  QLocalServer::setSocketOptions(v4, 7);
  result = QLocalServer::listen(*((QLocalServer **)this + 2), (LocalServer *)((char *)this + 12));
  if ( result )
  {
    QObject::connect(&v7, *((_DWORD *)this + 2), "2newConnection()", this, "1newConnection()", 0);
    QMetaObject::Connection::~Connection((QMetaObject::Connection *)&v7);
LABEL_7:
    result = 1;
  }
  return result;
}
// 10006154: using guessed type int __cdecl QObject::connect(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 10006158: using guessed type void __thiscall QMetaObject::Connection::~Connection(QMetaObject::Connection *__hidden this);
// 100061E0: using guessed type QLocalServer *__thiscall QLocalServer::QLocalServer(QLocalServer *__hidden this, struct QObject *);
// 100061E4: using guessed type int __thiscall QLocalServer::setSocketOptions(_DWORD, _DWORD);
// 100061E8: using guessed type bool __thiscall QLocalServer::listen(QLocalServer *__hidden this, const struct QString *);
// 10006990: using guessed type void *QLocalServer::`vftable';

//----- (10002E00) --------------------------------------------------------
char __thiscall LocalServer::sendPacket(LocalServer *this, struct QLocalSocket *a2, int a3, char *a4, int a5)
{
  QIODevice *v5; // esi
  unsigned __int16 v7; // bx
  int v8; // [esp-4h] [ebp-3Ch] BYREF
  char v9[16]; // [esp+10h] [ebp-28h] BYREF
  int v10; // [esp+20h] [ebp-18h]
  int *v11; // [esp+28h] [ebp-10h]
  int v12; // [esp+34h] [ebp-4h]

  v5 = a2;
  if ( !a2 || QLocalSocket::state(a2) != 3 )
    return 0;
  QByteArray::QByteArray((QByteArray *)&a2);
  v11 = &v8;
  v12 = 0;
  QDataStream::QDataStream(v9, &a2, 2);
  LOBYTE(v12) = 1;
  v10 = 13;
  QDataStream::operator<<(v9, a3);
  v7 = a5;
  QDataStream::operator<<(v9, a5);
  QDataStream::writeRawData((QDataStream *)v9, a4, v7);
  QIODevice::write(v5, (const struct QByteArray *)&a2);
  QLocalSocket::flush(v5);
  LOBYTE(v12) = 0;
  QDataStream::~QDataStream((QDataStream *)v9);
  v12 = -1;
  QByteArray::~QByteArray((QByteArray *)&a2);
  return 1;
}
// 100060B0: using guessed type int __thiscall QDataStream::QDataStream(_DWORD, _DWORD, _DWORD);
// 100060B4: using guessed type QByteArray *__thiscall QByteArray::QByteArray(QByteArray *__hidden this);
// 100060E0: using guessed type int __thiscall QDataStream::operator<<(_DWORD, _DWORD);
// 10006110: using guessed type _DWORD __thiscall QDataStream::writeRawData(QDataStream *__hidden this, const char *, _DWORD);
// 10006114: using guessed type __int64 __thiscall QIODevice::write(QIODevice *__hidden this, const struct QByteArray *);
// 10006118: using guessed type void __thiscall QDataStream::~QDataStream(QDataStream *__hidden this);
// 1000611C: using guessed type void __thiscall QByteArray::~QByteArray(QByteArray *__hidden this);
// 100061F0: using guessed type bool __thiscall QLocalSocket::flush(QLocalSocket *__hidden this);
// 10006204: using guessed type int __thiscall QLocalSocket::state(_DWORD);

//----- (10002F00) --------------------------------------------------------
void __thiscall LocalServer::onMessageProc(LocalServer *this, struct QLocalSocket *a2, int a3, int a4)
{
  char *v5; // esi

  if ( a3 == 2 )
  {
    v5 = (char *)operator new(0x20u);
    *(_DWORD *)v5 = 0;
    *((_DWORD *)v5 + 1) = 0;
    *((_DWORD *)v5 + 2) = 0;
    *((_DWORD *)v5 + 3) = 0;
    *((_DWORD *)v5 + 4) = 0;
    *((_DWORD *)v5 + 5) = 0;
    *((_DWORD *)v5 + 6) = 0;
    *((_DWORD *)v5 + 7) = 0;
    strcpy(v5, "success!");
    LocalServer::sendPacket(this, a2, 3, v5, 32);
    operator delete(v5);
  }
}

//----- (10002F70) --------------------------------------------------------
int __thiscall sub_10002F70(QListData *this, int a2, volatile signed __int32 *a3)
{
  volatile signed __int32 *v4; // ebx
  char *v5; // edi
  struct QListData::Data *v6; // ecx
  volatile signed __int32 v7; // eax
  void *v9; // [esp-14h] [ebp-38h]
  void *v10; // [esp-14h] [ebp-38h]
  int v11; // [esp-10h] [ebp-34h]
  int v12; // [esp-10h] [ebp-34h]
  _DWORD v13[6]; // [esp+0h] [ebp-24h] BYREF
  int v14; // [esp+20h] [ebp-4h]

  v13[5] = v13;
  v13[4] = this;
  v4 = a3;
  v5 = (char *)(*(_DWORD *)this + 4 * *(_DWORD *)(*(_DWORD *)this + 8) + 16);
  a3 = (volatile signed __int32 *)QListData::detach_grow(this, &a2, a3);
  v11 = *(_DWORD *)this + 4 * *(_DWORD *)(*(_DWORD *)this + 8) + 16 + 4 * a2;
  v9 = (void *)(*(_DWORD *)this + 4 * *(_DWORD *)(*(_DWORD *)this + 8) + 16);
  v14 = 0;
  sub_10002CF0(v9, v11, v5);
  v12 = *(_DWORD *)this + 4 * *(_DWORD *)(*(_DWORD *)this + 12) + 16;
  v10 = (void *)(*(_DWORD *)this + 4 * ((_DWORD)v4 + a2 + *(_DWORD *)(*(_DWORD *)this + 8)) + 16);
  v14 = 2;
  sub_10002CF0(v10, v12, &v5[4 * a2]);
  v6 = (struct QListData::Data *)a3;
  v7 = *a3;
  v14 = -1;
  if ( !v7 || v7 != -1 && !_InterlockedExchangeAdd(a3, 0xFFFFFFFF) )
    QListData::dispose(v6);
  return *(_DWORD *)this + 4 * (a2 + *(_DWORD *)(*(_DWORD *)this + 8)) + 16;
}
// 100060D8: using guessed type struct QListData::Data *__thiscall QListData::detach_grow(QListData *__hidden this, int *, _DWORD);
// 100061A4: using guessed type void __cdecl static QListData::dispose(struct QListData::Data *);

//----- (100030A0) --------------------------------------------------------
_DWORD *__thiscall LocalServer::LocalServer(_DWORD *this, struct QObject *a2, char a3)
{
  struct QListData::Data *v4; // eax

  QObject::QObject((QObject *)this, a2);
  *this = &LocalServer::`vftable';
  QString::QString((QString *)(this + 3));
  this[4] = QListData::shared_null;
  QString::operator=(this + 3, &a3);
  this[2] = 0;
  v4 = (struct QListData::Data *)this[4];
  this[4] = QListData::shared_null;
  if ( !*(_DWORD *)v4 || *(_DWORD *)v4 != -1 && !_InterlockedExchangeAdd((volatile signed __int32 *)v4, 0xFFFFFFFF) )
    QListData::dispose(v4);
  QString::~QString((QString *)&a3);
  return this;
}
// 100060DC: using guessed type int __thiscall QString::operator=(_DWORD, _DWORD);
// 10006190: using guessed type QObject *__thiscall QObject::QObject(QObject *__hidden this, struct QObject *);
// 100061A0: using guessed type void __thiscall QString::~QString(QString *__hidden this);
// 100061A4: using guessed type void __cdecl static QListData::dispose(struct QListData::Data *);
// 100061BC: using guessed type QString *__thiscall QString::QString(QString *__hidden this);
// 100069D8: using guessed type void *LocalServer::`vftable';

//----- (10003170) --------------------------------------------------------
void **__thiscall sub_10003170(QListData *this, void **a2)
{
  int v2; // eax
  void **result; // eax
  void *v4; // esi
  _DWORD v5[8]; // [esp+0h] [ebp-20h] BYREF

  v5[4] = v5;
  v2 = **(_DWORD **)this;
  if ( v2 == 1 || !v2 )
  {
    v4 = *a2;
    v5[7] = 4;
    result = QListData::append(this);
    *result = v4;
  }
  else
  {
    result = (void **)sub_10002F70(this, 0x7FFFFFFF, (volatile signed __int32 *)1);
    *result = *a2;
  }
  return result;
}
// 100060E4: using guessed type void **__thiscall QListData::append(QListData *__hidden this);

//----- (10003200) --------------------------------------------------------
void __thiscall LocalServer::newConnection(LocalServer *this)
{
  int v2; // ebx
  void *v3; // eax
  void *v4; // edi
  void *v5; // [esp+10h] [ebp-14h] BYREF
  char v6[4]; // [esp+14h] [ebp-10h] BYREF
  int v7; // [esp+20h] [ebp-4h]

  while ( (*(unsigned __int8 (__thiscall **)(_DWORD))(**((_DWORD **)this + 2) + 44))(*((_DWORD *)this + 2)) )
  {
    v2 = (*(int (__thiscall **)(_DWORD))(**((_DWORD **)this + 2) + 48))(*((_DWORD *)this + 2));
    v3 = operator new(0x14u);
    v5 = v3;
    v4 = 0;
    v7 = 0;
    if ( v3 )
      v4 = (void *)sub_100034C0((int)v3, v2, this);
    v7 = -1;
    v5 = v4;
    QObject::connect(v6, v4, "2finished()", this, "1finishThread()", 0);
    QMetaObject::Connection::~Connection((QMetaObject::Connection *)v6);
    QThread::start(v4, 7);
    sub_10003170((LocalServer *)((char *)this + 16), &v5);
    (*(void (__thiscall **)(LocalServer *, int))(*(_DWORD *)this + 48))(this, v2);
  }
}
// 100060F0: using guessed type int __thiscall QThread::start(_DWORD, _DWORD);
// 10006154: using guessed type int __cdecl QObject::connect(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 10006158: using guessed type void __thiscall QMetaObject::Connection::~Connection(QMetaObject::Connection *__hidden this);

//----- (100032E0) --------------------------------------------------------
_DWORD *__thiscall sub_100032E0(QListData *this, _DWORD *a2, void **a3)
{
  int *v4; // eax
  int v5; // ecx
  int v6; // esi

  v4 = *(int **)this;
  v5 = **(_DWORD **)this;
  if ( v5 != 1 && v5 )
  {
    v6 = ((char *)&a3[-v4[2] - 4] - (char *)v4) >> 2;
    sub_10002760(this, v4[1]);
    a3 = (void **)(*(_DWORD *)this + 4 * (v6 + *(_DWORD *)(*(_DWORD *)this + 8)) + 16);
  }
  *a2 = QListData::erase(this, a3);
  return a2;
}
// 1000330B: conditional instruction was optimized away because of 'ecx.4>=2u'
// 1000330F: conditional instruction was optimized away because of 'ecx.4>=2u'
// 100060F4: using guessed type void **__thiscall QListData::erase(QListData *__hidden this, void **);

//----- (10003350) --------------------------------------------------------
void __thiscall LocalServer::end(LocalServer *this)
{
  QLocalServer *v2; // ecx
  int v3; // ecx
  _DWORD *v4; // ecx
  QListData *v5; // edi
  QThread **i; // ebx
  int v7; // eax
  struct QListData::Data *v8; // eax
  QThread *v9; // esi

  v2 = (QLocalServer *)*((_DWORD *)this + 2);
  if ( v2 )
  {
    QLocalServer::close(v2);
    v3 = *((_DWORD *)this + 2);
    if ( v3 )
      (*(void (__thiscall **)(int, int))(*(_DWORD *)v3 + 12))(v3, 1);
    *((_DWORD *)this + 2) = 0;
  }
  v4 = (_DWORD *)*((_DWORD *)this + 4);
  v5 = (LocalServer *)((char *)this + 16);
  if ( *v4 != 1 && *v4 )
    sub_10002760((LocalServer *)((char *)this + 16), v4[1]);
  for ( i = (QThread **)(*(_DWORD *)v5 + 4 * *(_DWORD *)(*(_DWORD *)v5 + 8) + 16); ; ++i )
  {
    v7 = **(_DWORD **)v5;
    if ( v7 != 1 && v7 )
      sub_10002760(v5, *(_DWORD *)(*(_DWORD *)v5 + 4));
    v8 = *(struct QListData::Data **)v5;
    if ( i == (QThread **)(*(_DWORD *)v5 + 4 * *(_DWORD *)(*(_DWORD *)v5 + 12) + 16) )
      break;
    v9 = *i;
    if ( *i )
    {
      *((_BYTE *)v9 + 16) = 1;
      while ( QThread::isRunning(v9) )
        ;
      (*(void (__thiscall **)(QThread *, int))(*(_DWORD *)v9 + 12))(v9, 1);
    }
  }
  *(_DWORD *)v5 = QListData::shared_null;
  if ( !*(_DWORD *)v8 || *(_DWORD *)v8 != -1 && !_InterlockedExchangeAdd((volatile signed __int32 *)v8, 0xFFFFFFFF) )
    QListData::dispose(v8);
}
// 100060F8: using guessed type bool __thiscall QThread::isRunning(QThread *__hidden this);
// 100061A4: using guessed type void __cdecl static QListData::dispose(struct QListData::Data *);
// 100061EC: using guessed type void __thiscall QLocalServer::close(QLocalServer *__hidden this);

//----- (10003420) --------------------------------------------------------
void __thiscall LocalServer::finishThread(LocalServer *this)
{
  struct QObject *v2; // ebx
  _DWORD *v3; // ecx
  QListData *v4; // esi
  _DWORD *v5; // eax
  void **i; // edi
  int v7; // [esp+Ch] [ebp-4h] BYREF

  v2 = QObject::sender(this);
  if ( v2 )
  {
    v3 = (_DWORD *)*((_DWORD *)this + 4);
    v4 = (LocalServer *)((char *)this + 16);
    if ( *v3 != 1 && *v3 )
      sub_10002760(v4, v3[1]);
    v5 = *(_DWORD **)v4;
    for ( i = (void **)(*(_DWORD *)v4 + 4 * *(_DWORD *)(*(_DWORD *)v4 + 8) + 16); ; ++i )
    {
      if ( *v5 != 1 && *v5 )
        sub_10002760(v4, v5[1]);
      v5 = *(_DWORD **)v4;
      if ( i == (void **)(*(_DWORD *)v4 + 4 * *(_DWORD *)(*(_DWORD *)v4 + 12) + 16) )
        break;
      if ( v2 == *i )
      {
        sub_100032E0(v4, &v7, i);
        break;
      }
    }
    *((_BYTE *)v2 + 16) = 1;
    while ( QThread::isRunning(v2) )
      ;
    (*(void (__thiscall **)(struct QObject *, int))(*(_DWORD *)v2 + 12))(v2, 1);
  }
}
// 100060EC: using guessed type struct QObject *__thiscall QObject::sender(QObject *__hidden this);
// 100060F8: using guessed type bool __thiscall QThread::isRunning(QThread *__hidden this);

//----- (100034C0) --------------------------------------------------------
int __thiscall sub_100034C0(int this, int a2, struct QObject *a3)
{
  struct QObject *v4; // edi

  v4 = a3;
  QThread::QThread((QThread *)this, a3);
  *(_DWORD *)(this + 8) = a2;
  *(_DWORD *)(this + 12) = v4;
  *(_DWORD *)this = &LocalServerThread::`vftable';
  *(_BYTE *)(this + 16) = 0;
  QObject::connect(&a3, a2, "2disconnected()", this, "1onDisconnected()", 0);
  QMetaObject::Connection::~Connection((QMetaObject::Connection *)&a3);
  QObject::connect(&a3, *(_DWORD *)(this + 8), "2readyRead()", this, "1onReadyRead()", 0);
  QMetaObject::Connection::~Connection((QMetaObject::Connection *)&a3);
  return this;
}
// 10006100: using guessed type QThread *__thiscall QThread::QThread(QThread *__hidden this, struct QObject *);
// 10006154: using guessed type int __cdecl QObject::connect(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 10006158: using guessed type void __thiscall QMetaObject::Connection::~Connection(QMetaObject::Connection *__hidden this);
// 10006A30: using guessed type void *LocalServerThread::`vftable';

//----- (10003570) --------------------------------------------------------
void __thiscall sub_10003570(int this)
{
  int v2; // ecx

  while ( !*(_BYTE *)(this + 16) )
  {
    v2 = *(_DWORD *)(this + 8);
    if ( !v2 )
      break;
    if ( QLocalSocket::state(v2) != 3 )
      break;
    QThread::msleep(0x64u);
  }
}
// 10006108: using guessed type void __cdecl static QThread::msleep(unsigned int);
// 10006204: using guessed type int __thiscall QLocalSocket::state(_DWORD);

//----- (100035B0) --------------------------------------------------------
int __thiscall sub_100035B0(_DWORD *this)
{
  int result; // eax

  result = this[3];
  if ( result )
    result = (*(int (__thiscall **)(int, _DWORD))(*(_DWORD *)result + 52))(result, this[2]);
  return result;
}

//----- (100035D0) --------------------------------------------------------
void *__thiscall sub_100035D0(void *this, char a2)
{
  QThread::~QThread((QThread *)this);
  if ( (a2 & 1) != 0 )
    operator delete(this);
  return this;
}
// 100060FC: using guessed type void __thiscall QThread::~QThread(QThread *__hidden this);

//----- (10003620) --------------------------------------------------------
void __thiscall sub_10003620(int this)
{
  struct QtSharedPointer::ExternalRefCountData *v2; // edi
  __int64 v3; // rax
  int v4; // ecx
  int (__thiscall *v5)(int); // eax
  __int64 v6; // rax
  int v7; // eax
  int v8; // edi
  char *v9; // eax
  LocalServer *v10; // edi
  char *v11; // eax
  bool v12; // zf
  volatile signed __int32 *v13; // eax
  unsigned __int16 v14; // [esp-4h] [ebp-4Ch]
  int v15; // [esp+0h] [ebp-48h]
  char v16[16]; // [esp+10h] [ebp-38h] BYREF
  int v17; // [esp+20h] [ebp-28h]
  struct QtSharedPointer::ExternalRefCountData *v18; // [esp+28h] [ebp-20h]
  int v19; // [esp+2Ch] [ebp-1Ch]
  unsigned __int16 v20[2]; // [esp+30h] [ebp-18h] BYREF
  char v21[4]; // [esp+34h] [ebp-14h] BYREF
  unsigned __int16 v22[2]; // [esp+38h] [ebp-10h] BYREF
  int v23; // [esp+44h] [ebp-4h]

  if ( this )
  {
    v2 = QtSharedPointer::ExternalRefCountData::getAndRef((const struct QObject *)this);
    v18 = v2;
  }
  else
  {
    v18 = 0;
    v2 = 0;
  }
  v19 = this;
  v23 = 0;
  while ( v2 )
  {
    if ( !*((_DWORD *)v2 + 1)
      || !this
      || (LODWORD(v3) = (*(int (__thiscall **)(_DWORD))(**(_DWORD **)(this + 8) + 76))(*(_DWORD *)(this + 8)), v3 <= 0) )
    {
      v12 = _InterlockedExchangeAdd((volatile signed __int32 *)v2, 0xFFFFFFFF) == 0;
LABEL_18:
      if ( v12 )
        operator delete(v2);
      return;
    }
    QDataStream::QDataStream((QDataStream *)v16, *(struct QIODevice **)(this + 8));
    v4 = *(_DWORD *)(this + 8);
    v17 = 13;
    v5 = *(int (__thiscall **)(int))(*(_DWORD *)v4 + 76);
    LOBYTE(v23) = 1;
    LODWORD(v6) = v5(v4);
    if ( v6 < 4 )
    {
      LOBYTE(v23) = 0;
      QDataStream::~QDataStream((QDataStream *)v16);
      v12 = _InterlockedExchangeAdd((volatile signed __int32 *)v2, 0xFFFFFFFF) == 0;
      goto LABEL_18;
    }
    v7 = QDataStream::operator>>(v16, v20);
    QDataStream::operator>>(v7, v22);
    v8 = v22[0];
    if ( ((__int64 (__thiscall *)(_DWORD))*(_DWORD *)(**(_DWORD **)(this + 8) + 76))(*(_DWORD *)(this + 8)) < v8 )
    {
      (*(void (__thiscall **)(_DWORD))(**(_DWORD **)(this + 8) + 52))(*(_DWORD *)(this + 8));
      LOBYTE(v23) = 0;
      QDataStream::~QDataStream((QDataStream *)v16);
      v13 = (volatile signed __int32 *)v18;
      if ( !_InterlockedExchangeAdd((volatile signed __int32 *)v18, 0xFFFFFFFF) )
        operator delete((void *)v13);
      return;
    }
    QByteArray::QByteArray((QByteArray *)v21, v8, 0);
    LOBYTE(v23) = 2;
    v9 = QByteArray::data((QByteArray *)v21);
    QDataStream::readRawData((QDataStream *)v16, v9, v15);
    v10 = *(LocalServer **)(this + 12);
    if ( v10 )
    {
      v14 = v22[0];
      v11 = QByteArray::data((QByteArray *)v21);
      LocalServer::getPacket(v10, *(struct QLocalSocket **)(this + 8), v20[0], v11, v14);
    }
    LOBYTE(v23) = 1;
    QByteArray::~QByteArray((QByteArray *)v21);
    LOBYTE(v23) = 0;
    QDataStream::~QDataStream((QDataStream *)v16);
    v2 = v18;
  }
}
// 100037CB: conditional instruction was optimized away because of 'edi.4!=0'
// 100036A0: variable 'v3' is possibly undefined
// 100036D5: variable 'v6' is possibly undefined
// 1000373B: variable 'v15' is possibly undefined
// 100060B8: using guessed type _DWORD __thiscall QDataStream::readRawData(QDataStream *__hidden this, char *, _DWORD);
// 100060BC: using guessed type char *__thiscall QByteArray::data(QByteArray *__hidden this);
// 100060C0: using guessed type QByteArray *__thiscall QByteArray::QByteArray(QByteArray *__hidden this, _DWORD, char);
// 100060C4: using guessed type int __thiscall QDataStream::operator>>(_DWORD, _DWORD);
// 100060C8: using guessed type QDataStream *__thiscall QDataStream::QDataStream(QDataStream *__hidden this, struct QIODevice *);
// 1000610C: using guessed type struct QtSharedPointer::ExternalRefCountData *__cdecl static QtSharedPointer::ExternalRefCountData::getAndRef(const struct QObject *);
// 10006118: using guessed type void __thiscall QDataStream::~QDataStream(QDataStream *__hidden this);
// 1000611C: using guessed type void __thiscall QByteArray::~QByteArray(QByteArray *__hidden this);

//----- (10003800) --------------------------------------------------------
bool SGUPLocalClient_Init()
{
  int v0; // eax
  void *v1; // eax

  v0 = dword_1000A220;
  if ( !dword_1000A220 )
  {
    v1 = operator new(0x18u);
    if ( v1 )
    {
      dword_1000A220 = sub_10001A60((int)v1, 0);
      return sub_10001B60(dword_1000A220) != 0;
    }
    v0 = 0;
    dword_1000A220 = 0;
  }
  return sub_10001B60(v0) != 0;
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10003850) --------------------------------------------------------
int __cdecl SGUPLocalClient_SetOnRecvPacketFunc(int a1)
{
  int result; // eax

  if ( dword_1000A220 )
    result = sub_10001FB0((_DWORD *)dword_1000A220, a1);
  return result;
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10003870) --------------------------------------------------------
char SGUPLocalClient_Term()
{
  if ( dword_1000A220 )
  {
    sub_10001AF0(dword_1000A220);
    if ( dword_1000A220 )
      (*(void (__thiscall **)(int, int))(*(_DWORD *)dword_1000A220 + 12))(dword_1000A220, 1);
    dword_1000A220 = 0;
  }
  return 1;
}
// 1000A220: using guessed type int dword_1000A220;

//----- (100038B0) --------------------------------------------------------
char SGUPLocalClient_StartOverlayHost()
{
  char *v1; // esi

  if ( !dword_1000A220 )
    return 0;
  v1 = (char *)operator new(4u);
  *(_DWORD *)v1 = 0;
  *(_DWORD *)v1 = GetCurrentProcessId();
  sub_10002140((QIODevice **)dword_1000A220, 0, v1, 4);
  operator delete(v1);
  return 1;
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10003900) --------------------------------------------------------
char SGUPAPI_TestFunc()
{
  if ( !dword_1000A220 )
    return 0;
  sub_10002140((QIODevice **)dword_1000A220, 2, 0, 0);
  return 1;
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10003920) --------------------------------------------------------
char __cdecl SGUPLocalClient_PHCommand(char *Source, size_t Count)
{
  void *v3; // esi

  if ( !dword_1000A220 )
    return 0;
  if ( (int)Count >= 256 )
    return 0;
  v3 = operator new(0x100u);
  memset(v3, 0, 0x100u);
  strncpy((char *)v3, Source, Count);
  sub_10002140((QIODevice **)dword_1000A220, 4, (const char *)v3, 256);
  operator delete(v3);
  return 1;
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10003990) --------------------------------------------------------
void __cdecl SGUPLocalClient_GetAuthToken(char *Source, char *a2, char a3)
{
  char *v3; // esi

  if ( dword_1000A220 )
  {
    v3 = (char *)operator new(0x201u);
    memset(v3, 0, 0x201u);
    strncpy(v3, Source, 0x100u);
    strncpy(v3 + 256, a2, 0x100u);
    v3[512] = a3;
    sub_10002140((QIODevice **)dword_1000A220, 5, v3, 513);
    operator delete(v3);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10003A10) --------------------------------------------------------
void __cdecl SGUPLocalClient_RenewAuthToken(char *Source, char *a2, char *a3)
{
  char *v3; // esi

  if ( dword_1000A220 )
  {
    v3 = (char *)operator new(0x600u);
    memset(v3, 0, 0x600u);
    strncpy(v3, Source, 0x100u);
    strncpy(v3 + 256, a2, 0x100u);
    strncpy(v3 + 512, a3, 0x400u);
    sub_10002140((QIODevice **)dword_1000A220, 6, v3, 1536);
    operator delete(v3);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10003A90) --------------------------------------------------------
char SGUPLocalClient_GetMessengerAuthToken()
{
  char result; // al

  if ( dword_1000A220 )
    result = sub_10002140((QIODevice **)dword_1000A220, 18, 0, 0);
  return result;
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10003AB0) --------------------------------------------------------
void __cdecl SGUPLocalCleint_RenewMessengerAuthToken(char *Source)
{
  void *v1; // esi

  if ( dword_1000A220 )
  {
    v1 = operator new(0x400u);
    memset(v1, 0, 0x400u);
    strncpy((char *)v1, Source, 0x400u);
    sub_10002140((QIODevice **)dword_1000A220, 19, (const char *)v1, 1024);
    operator delete(v1);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10003B10) --------------------------------------------------------
void __cdecl SGUPLocalClient_GetFriendInfo(int a1)
{
  char *v1; // esi

  if ( dword_1000A220 )
  {
    v1 = (char *)operator new(4u);
    *(_DWORD *)v1 = 0;
    *(_DWORD *)v1 = a1;
    sub_10002140((QIODevice **)dword_1000A220, 20, v1, 4);
    operator delete(v1);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10003B50) --------------------------------------------------------
void __cdecl SGUPLocalClient_StartOneOnOneChat(int a1, int a2)
{
  char *v2; // esi

  if ( dword_1000A220 )
  {
    v2 = (char *)operator new(8u);
    *(_DWORD *)v2 = a1;
    *((_DWORD *)v2 + 1) = a2;
    sub_10002140((QIODevice **)dword_1000A220, 22, v2, 8);
    operator delete(v2);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10003B90) --------------------------------------------------------
void __cdecl SGUPLocalClient_EndChat(int a1)
{
  char *v1; // esi

  if ( dword_1000A220 )
  {
    v1 = (char *)operator new(4u);
    *(_DWORD *)v1 = 0;
    *(_DWORD *)v1 = a1;
    sub_10002140((QIODevice **)dword_1000A220, 24, v1, 4);
    operator delete(v1);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10003BD0) --------------------------------------------------------
void __cdecl SGUPLocalClient_SendChatMessage(int a1, const void *a2)
{
  _DWORD *v2; // ebx

  if ( dword_1000A220 )
  {
    v2 = operator new(0x804u);
    memset(v2, 0, 0x804u);
    *v2 = a1;
    qmemcpy(v2 + 1, a2, 0x800u);
    sub_10002140((QIODevice **)dword_1000A220, 25, (const char *)v2, 2052);
    operator delete(v2);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10003C30) --------------------------------------------------------
void __cdecl SGUPLocalClient_AddRequestLobbyListStringFilter(char *Source, char *a2)
{
  char *v2; // esi

  if ( dword_1000A220 )
  {
    v2 = (char *)operator new(0x58u);
    memset(v2, 0, 0x58u);
    strncpy(v2, Source, 0x17u);
    strncpy(v2 + 24, a2, 0x3Fu);
    sub_10002140((QIODevice **)dword_1000A220, 49, v2, 88);
    operator delete(v2);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10003C90) --------------------------------------------------------
void __cdecl SGUPLocalClient_AddRequestLobbyListNumericalFilter(char *Source, int a2, int a3)
{
  char *v3; // esi

  if ( dword_1000A220 )
  {
    v3 = (char *)operator new(0x20u);
    *(_DWORD *)v3 = 0;
    *((_DWORD *)v3 + 1) = 0;
    *((_DWORD *)v3 + 2) = 0;
    *((_DWORD *)v3 + 3) = 0;
    *((_DWORD *)v3 + 4) = 0;
    *((_DWORD *)v3 + 5) = 0;
    *((_DWORD *)v3 + 6) = 0;
    *((_DWORD *)v3 + 7) = 0;
    strncpy(v3, Source, 0x17u);
    *((_DWORD *)v3 + 6) = a2;
    *((_DWORD *)v3 + 7) = a3;
    sub_10002140((QIODevice **)dword_1000A220, 50, v3, 32);
    operator delete(v3);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10003D00) --------------------------------------------------------
void __cdecl SGUPLocalClient_AddRequestLobbyListResultCountFilter(int a1)
{
  char *v1; // esi

  if ( dword_1000A220 )
  {
    v1 = (char *)operator new(4u);
    *(_DWORD *)v1 = 0;
    *(_DWORD *)v1 = a1;
    sub_10002140((QIODevice **)dword_1000A220, 51, v1, 4);
    operator delete(v1);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10003D40) --------------------------------------------------------
void __cdecl SGUPLocalClient_AddRequestLobbyListSearchKey(char *Source)
{
  char *v1; // esi

  if ( dword_1000A220 )
  {
    v1 = (char *)operator new(0x18u);
    *(_DWORD *)v1 = 0;
    *((_DWORD *)v1 + 1) = 0;
    *((_DWORD *)v1 + 2) = 0;
    *((_DWORD *)v1 + 3) = 0;
    *((_DWORD *)v1 + 4) = 0;
    *((_DWORD *)v1 + 5) = 0;
    strncpy(v1, Source, 0x17u);
    sub_10002140((QIODevice **)dword_1000A220, 52, v1, 24);
    operator delete(v1);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10003DA0) --------------------------------------------------------
void __cdecl SGUPLocalClient_RequestLobbyList(int a1)
{
  char *v1; // esi

  if ( dword_1000A220 )
  {
    v1 = (char *)operator new(4u);
    *(_DWORD *)v1 = a1;
    sub_10002140((QIODevice **)dword_1000A220, 28, v1, 4);
    operator delete(v1);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10003DE0) --------------------------------------------------------
void __cdecl SGUPLocalClient_RequestLobbyInfo(int a1)
{
  char *v1; // esi

  if ( dword_1000A220 )
  {
    v1 = (char *)operator new(4u);
    *(_DWORD *)v1 = 0;
    *(_DWORD *)v1 = a1;
    sub_10002140((QIODevice **)dword_1000A220, 30, v1, 4);
    operator delete(v1);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10003E20) --------------------------------------------------------
void __cdecl SGUPLocalClient_CreateLobby(int a1, int a2, int a3, int a4)
{
  char *v4; // esi

  if ( dword_1000A220 )
  {
    v4 = (char *)operator new(0x10u);
    *(_DWORD *)v4 = a1;
    *((_DWORD *)v4 + 1) = a2;
    *((_DWORD *)v4 + 2) = a3;
    *((_DWORD *)v4 + 3) = a4;
    sub_10002140((QIODevice **)dword_1000A220, 31, v4, 16);
    operator delete(v4);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10003E70) --------------------------------------------------------
void __cdecl SGUPLocalClient_JoinLobby(int a1)
{
  char *v1; // esi

  if ( dword_1000A220 )
  {
    v1 = (char *)operator new(4u);
    *(_DWORD *)v1 = 0;
    *(_DWORD *)v1 = a1;
    sub_10002140((QIODevice **)dword_1000A220, 32, v1, 4);
    operator delete(v1);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10003EB0) --------------------------------------------------------
void __cdecl SGUPLocalClient_LeaveLobby(int a1)
{
  char *v1; // esi

  if ( dword_1000A220 )
  {
    v1 = (char *)operator new(4u);
    *(_DWORD *)v1 = 0;
    *(_DWORD *)v1 = a1;
    sub_10002140((QIODevice **)dword_1000A220, 34, v1, 4);
    operator delete(v1);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10003EF0) --------------------------------------------------------
void __cdecl SGUPLocalClient_InviteFriend(int a1, int a2, int a3)
{
  char *v3; // esi

  if ( dword_1000A220 )
  {
    v3 = (char *)operator new(0x10u);
    *((_DWORD *)v3 + 1) = 0;
    *(_DWORD *)v3 = a1;
    *((_DWORD *)v3 + 2) = a2;
    *((_DWORD *)v3 + 3) = a3;
    sub_10002140((QIODevice **)dword_1000A220, 53, v3, 16);
    operator delete(v3);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10003F40) --------------------------------------------------------
void __cdecl SGUPLocalClient_SetInvitation(int a1, int a2, int a3, char a4)
{
  _DWORD *v4; // esi

  v4 = operator new(0x18u);
  v4[1] = 0;
  v4[4] = 0;
  v4[5] = 0;
  *v4 = a1;
  v4[2] = a2;
  v4[3] = a3;
  *((_BYTE *)v4 + 16) = a4;
  sub_10002140((QIODevice **)dword_1000A220, 55, (const char *)v4, 24);
  operator delete(v4);
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10003F90) --------------------------------------------------------
void __cdecl SGUPLocalClient_SetGameServer(int a1, char *Source, int a3)
{
  void *v3; // esi

  if ( dword_1000A220 )
  {
    v3 = operator new(0x18u);
    *((_DWORD *)v3 + 1) = 0;
    *((_DWORD *)v3 + 2) = 0;
    *((_DWORD *)v3 + 3) = 0;
    *((_DWORD *)v3 + 4) = 0;
    *((_DWORD *)v3 + 5) = 0;
    *(_DWORD *)v3 = a1;
    strncpy((char *)v3 + 4, Source, 0x10u);
    *((_DWORD *)v3 + 5) = a3;
    sub_10002140((QIODevice **)dword_1000A220, 35, (const char *)v3, 24);
    operator delete(v3);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10004000) --------------------------------------------------------
void __cdecl SGUPLocalClient_GetGameServer(int a1)
{
  char *v1; // esi

  if ( dword_1000A220 )
  {
    v1 = (char *)operator new(4u);
    *(_DWORD *)v1 = 0;
    *(_DWORD *)v1 = a1;
    sub_10002140((QIODevice **)dword_1000A220, 36, v1, 4);
    operator delete(v1);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10004040) --------------------------------------------------------
void __cdecl SGUPLocalClient_SetLobbyOwner(int a1, int a2, int a3, int a4, int a5)
{
  char *v5; // esi

  if ( dword_1000A220 )
  {
    v5 = (char *)operator new(0x18u);
    *((_DWORD *)v5 + 1) = 0;
    *(_DWORD *)v5 = a1;
    *((_DWORD *)v5 + 2) = a2;
    *((_DWORD *)v5 + 3) = a3;
    *((_DWORD *)v5 + 4) = a4;
    *((_DWORD *)v5 + 5) = a5;
    sub_10002140((QIODevice **)dword_1000A220, 56, v5, 24);
    operator delete(v5);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (100040A0) --------------------------------------------------------
void __cdecl SGUPLocalClient_SetUserData(char *Source, char *a2)
{
  char *v2; // esi

  if ( dword_1000A220 )
  {
    v2 = (char *)operator new(0x58u);
    memset(v2, 0, 0x58u);
    strncpy(v2, Source, 0x17u);
    strncpy(v2 + 24, a2, 0x3Fu);
    sub_10002140((QIODevice **)dword_1000A220, 57, v2, 88);
    operator delete(v2);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10004100) --------------------------------------------------------
void __cdecl SGUPLocalClient_GetUserData(char *Source)
{
  char *v1; // esi

  if ( dword_1000A220 )
  {
    v1 = (char *)operator new(0x18u);
    *(_DWORD *)v1 = 0;
    *((_DWORD *)v1 + 1) = 0;
    *((_DWORD *)v1 + 2) = 0;
    *((_DWORD *)v1 + 3) = 0;
    *((_DWORD *)v1 + 4) = 0;
    *((_DWORD *)v1 + 5) = 0;
    strncpy(v1, Source, 0x17u);
    sub_10002140((QIODevice **)dword_1000A220, 58, v1, 24);
    operator delete(v1);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10004160) --------------------------------------------------------
void __cdecl SGUPLocalClient_DelUserData(char *Source)
{
  char *v1; // esi

  if ( dword_1000A220 )
  {
    v1 = (char *)operator new(0x18u);
    *(_DWORD *)v1 = 0;
    *((_DWORD *)v1 + 1) = 0;
    *((_DWORD *)v1 + 2) = 0;
    *((_DWORD *)v1 + 3) = 0;
    *((_DWORD *)v1 + 4) = 0;
    *((_DWORD *)v1 + 5) = 0;
    strncpy(v1, Source, 0x17u);
    sub_10002140((QIODevice **)dword_1000A220, 60, v1, 24);
    operator delete(v1);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (100041C0) --------------------------------------------------------
void __cdecl SGUPLocalClient_SetLobbyData(int a1, char *Source, char *a3)
{
  char *v3; // esi

  if ( dword_1000A220 )
  {
    v3 = (char *)operator new(0x5Cu);
    memset(v3, 0, 0x5Cu);
    *(_DWORD *)v3 = a1;
    strncpy(v3 + 4, Source, 0x17u);
    strncpy(v3 + 28, a3, 0x3Fu);
    sub_10002140((QIODevice **)dword_1000A220, 38, v3, 92);
    operator delete(v3);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10004230) --------------------------------------------------------
void __cdecl SGUPLocalClient_GetLobbyData(int a1, char *Source)
{
  void *v2; // esi

  if ( dword_1000A220 )
  {
    v2 = operator new(0x1Cu);
    *((_DWORD *)v2 + 1) = 0;
    *((_DWORD *)v2 + 2) = 0;
    *((_DWORD *)v2 + 3) = 0;
    *((_DWORD *)v2 + 4) = 0;
    *((_DWORD *)v2 + 5) = 0;
    *((_DWORD *)v2 + 6) = 0;
    *(_DWORD *)v2 = a1;
    strncpy((char *)v2 + 4, Source, 0x17u);
    sub_10002140((QIODevice **)dword_1000A220, 39, (const char *)v2, 28);
    operator delete(v2);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10004290) --------------------------------------------------------
void __cdecl SGUPLocalClient_DelLobbyData(int a1, char *Source)
{
  void *v2; // esi

  if ( dword_1000A220 )
  {
    v2 = operator new(0x1Cu);
    *((_DWORD *)v2 + 1) = 0;
    *((_DWORD *)v2 + 2) = 0;
    *((_DWORD *)v2 + 3) = 0;
    *((_DWORD *)v2 + 4) = 0;
    *((_DWORD *)v2 + 5) = 0;
    *((_DWORD *)v2 + 6) = 0;
    *(_DWORD *)v2 = a1;
    strncpy((char *)v2 + 4, Source, 0x17u);
    sub_10002140((QIODevice **)dword_1000A220, 41, (const char *)v2, 28);
    operator delete(v2);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (100042F0) --------------------------------------------------------
void __cdecl SGUPLocalClient_SetLobbyType(int a1, int a2)
{
  char *v2; // esi

  if ( dword_1000A220 )
  {
    v2 = (char *)operator new(8u);
    *(_DWORD *)v2 = a1;
    *((_DWORD *)v2 + 1) = a2;
    sub_10002140((QIODevice **)dword_1000A220, 66, v2, 8);
    operator delete(v2);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10004330) --------------------------------------------------------
void __cdecl SGUPLocalClient_SetGameJoinable(int a1, int a2)
{
  char *v2; // esi

  if ( dword_1000A220 )
  {
    v2 = (char *)operator new(8u);
    *(_DWORD *)v2 = a1;
    *((_DWORD *)v2 + 1) = a2;
    sub_10002140((QIODevice **)dword_1000A220, 67, v2, 8);
    operator delete(v2);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10004370) --------------------------------------------------------
void __cdecl SGUPLocalClient_SetLobbyUserData(int a1, char *Source, char *a3)
{
  char *v3; // esi

  if ( dword_1000A220 )
  {
    v3 = (char *)operator new(0x5Cu);
    memset(v3, 0, 0x5Cu);
    *(_DWORD *)v3 = a1;
    strncpy(v3 + 4, Source, 0x17u);
    strncpy(v3 + 28, a3, 0x3Fu);
    sub_10002140((QIODevice **)dword_1000A220, 62, v3, 92);
    operator delete(v3);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (100043E0) --------------------------------------------------------
void __cdecl SGUPLocalClient_GetLobbyUserData(int a1, char *Source)
{
  void *v2; // esi

  if ( dword_1000A220 )
  {
    v2 = operator new(0x1Cu);
    *((_DWORD *)v2 + 1) = 0;
    *((_DWORD *)v2 + 2) = 0;
    *((_DWORD *)v2 + 3) = 0;
    *((_DWORD *)v2 + 4) = 0;
    *((_DWORD *)v2 + 5) = 0;
    *((_DWORD *)v2 + 6) = 0;
    *(_DWORD *)v2 = a1;
    strncpy((char *)v2 + 4, Source, 0x17u);
    sub_10002140((QIODevice **)dword_1000A220, 63, (const char *)v2, 28);
    operator delete(v2);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10004440) --------------------------------------------------------
void __cdecl SGUPLocalClient_DelLobbyUserData(int a1, char *Source)
{
  void *v2; // esi

  if ( dword_1000A220 )
  {
    v2 = operator new(0x1Cu);
    *((_DWORD *)v2 + 1) = 0;
    *((_DWORD *)v2 + 2) = 0;
    *((_DWORD *)v2 + 3) = 0;
    *((_DWORD *)v2 + 4) = 0;
    *((_DWORD *)v2 + 5) = 0;
    *((_DWORD *)v2 + 6) = 0;
    *(_DWORD *)v2 = a1;
    strncpy((char *)v2 + 4, Source, 0x17u);
    sub_10002140((QIODevice **)dword_1000A220, 65, (const char *)v2, 28);
    operator delete(v2);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (100044A0) --------------------------------------------------------
void __cdecl SGUPLocalClient_SetUserTeam(int a1, int a2)
{
  char *v2; // esi

  if ( dword_1000A220 )
  {
    v2 = (char *)operator new(8u);
    *(_DWORD *)v2 = a1;
    *((_DWORD *)v2 + 1) = a2;
    sub_10002140((QIODevice **)dword_1000A220, 61, v2, 8);
    operator delete(v2);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (100044E0) --------------------------------------------------------
void __cdecl SGUPLocalClient_SetUserReady(int a1, char a2)
{
  _DWORD *v2; // esi

  if ( dword_1000A220 )
  {
    v2 = operator new(8u);
    v2[1] = 0;
    *v2 = a1;
    *((_BYTE *)v2 + 4) = a2;
    sub_10002140((QIODevice **)dword_1000A220, 43, (const char *)v2, 8);
    operator delete(v2);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10004530) --------------------------------------------------------
void __cdecl SGUPLocalClient_StartGame(int a1, char a2)
{
  _DWORD *v2; // esi

  if ( dword_1000A220 )
  {
    v2 = operator new(8u);
    v2[1] = 0;
    *v2 = a1;
    *((_BYTE *)v2 + 4) = a2;
    sub_10002140((QIODevice **)dword_1000A220, 44, (const char *)v2, 8);
    operator delete(v2);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10004580) --------------------------------------------------------
void __cdecl SGUPLocalClient_PostSystemMessage(char *Source, __int16 a2, char *a3, __int16 a4, char *a5, __int16 a6)
{
  char *v6; // esi

  if ( dword_1000A220 )
  {
    v6 = (char *)operator new(0xA06u);
    memset(v6, 0, 0xA06u);
    *((_WORD *)v6 + 128) = a2;
    *((_WORD *)v6 + 257) = a4;
    *((_WORD *)v6 + 1282) = a6;
    if ( (unsigned __int16)a6 > 0x800u )
      *((_WORD *)v6 + 1282) = 2048;
    strncpy(v6, Source, 0x100u);
    strncpy(v6 + 258, a3, 0x100u);
    strncpy(v6 + 516, a5, 0x800u);
    sub_10002140((QIODevice **)dword_1000A220, 45, v6, 2566);
    operator delete(v6);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10004640) --------------------------------------------------------
void SGUPLocalClient_GetSTUNInfo()
{
  void *v0; // esi

  if ( dword_1000A220 )
  {
    v0 = operator new(0x201u);
    memset(v0, 1, 0x201u);
    sub_10002140((QIODevice **)dword_1000A220, 47, (const char *)v0, 513);
    operator delete(v0);
  }
}
// 1000A220: using guessed type int dword_1000A220;

//----- (10004690) --------------------------------------------------------
char SGUPLocalClient_MessengerInit()
{
  Concurrency::details::ExecutionResource *v0; // eax
  QObject *v1; // eax
  char result; // al
  char *v3; // esi

  v0 = dword_1000A224;
  if ( !dword_1000A224 )
  {
    v1 = (QObject *)operator new(0x24u);
    if ( v1 )
      v0 = sub_10001EC0(v1, 0);
    else
      v0 = 0;
    dword_1000A224 = v0;
  }
  result = sub_10002030((QLocalSocket **)v0);
  if ( result )
  {
    v3 = (char *)operator new(4u);
    *(_DWORD *)v3 = 0;
    *(_DWORD *)v3 = 0;
    sub_10002140((QIODevice **)dword_1000A224, 11, v3, 4);
    operator delete(v3);
    result = 1;
  }
  return result;
}

//----- (10004700) --------------------------------------------------------
void SGUPLocalClient_OverlayHostTerm()
{
  if ( dword_1000A224 )
  {
    sub_10001F60(dword_1000A224);
    if ( dword_1000A224 )
      (*(void (__thiscall **)(Concurrency::details::ExecutionResource *, int))(*(_DWORD *)dword_1000A224 + 12))(
        dword_1000A224,
        1);
    dword_1000A224 = 0;
  }
}

//----- (10004730) --------------------------------------------------------
char SGUPLocalClient_SendDuplicateLoginEvent()
{
  char result; // al

  if ( dword_1000A224 )
    result = sub_10002140((QIODevice **)dword_1000A224, 9, 0, 0);
  return result;
}

//----- (10004750) --------------------------------------------------------
char SGUPLocalClient_GetMemberInfo()
{
  char result; // al

  if ( dword_1000A224 )
    result = sub_10002140((QIODevice **)dword_1000A224, 13, 0, 0);
  return result;
}

//----- (10004770) --------------------------------------------------------
void __cdecl SGUPLocalClient_InternalRenewAuthToken(char *Source, char *a2, char *a3)
{
  char *v3; // esi

  if ( dword_1000A224 )
  {
    v3 = (char *)operator new(0x600u);
    memset(v3, 0, 0x600u);
    strncpy(v3, Source, 0x100u);
    strncpy(v3 + 256, a2, 0x100u);
    strncpy(v3 + 512, a3, 0x400u);
    sub_10002140((QIODevice **)dword_1000A224, 15, v3, 1536);
  }
}

//----- (100047F0) --------------------------------------------------------
int __cdecl SGUPLocalClient_SetCallbackSubscriptReq(int a1)
{
  int result; // eax

  if ( dword_1000A224 )
    result = sub_10001F80(dword_1000A224, a1);
  return result;
}

//----- (10004810) --------------------------------------------------------
int __cdecl SGUPLocalClient_SetCallbackMessengerConfigUpdate(int a1)
{
  int result; // eax

  if ( dword_1000A224 )
    result = unknown_libname_1(a1);
  return result;
}
// 10001F90: using guessed type _DWORD __stdcall unknown_libname_1(_DWORD);

//----- (10004830) --------------------------------------------------------
int __cdecl SGUPLocalClient_SetCallbackGetMemberInfo(int a1)
{
  int result; // eax

  if ( dword_1000A224 )
    result = sub_10001FB0(dword_1000A224, a1);
  return result;
}

//----- (10004850) --------------------------------------------------------
int __cdecl SGUPLocalClient_SetCallbackInternalRenewAuthToken(int a1)
{
  int result; // eax

  if ( dword_1000A224 )
    result = sub_10001FC0(dword_1000A224, a1);
  return result;
}

//----- (10004870) --------------------------------------------------------
void __cdecl SGUPLocalClient_SetCallbackDuplicateLoginResult(struct Concurrency::details::VirtualProcessorRoot *a1)
{
  if ( dword_1000A224 )
    Concurrency::details::ExecutionResource::MarkAsVirtualProcessorRoot(dword_1000A224, a1);
}

//----- (10004890) --------------------------------------------------------
char SGUPLocalClient_OverlayHostInit()
{
  Concurrency::details::ExecutionResource *v0; // eax
  QObject *v1; // eax
  char result; // al
  char *v3; // esi

  v0 = dword_1000A224;
  if ( !dword_1000A224 )
  {
    v1 = (QObject *)operator new(0x24u);
    if ( v1 )
      v0 = sub_10001EC0(v1, 0);
    else
      v0 = 0;
    dword_1000A224 = v0;
  }
  result = sub_10002030((QLocalSocket **)v0);
  if ( result )
  {
    v3 = (char *)operator new(4u);
    *(_DWORD *)v3 = 0;
    *(_DWORD *)v3 = 1;
    sub_10002140((QIODevice **)dword_1000A224, 11, v3, 4);
    operator delete(v3);
    result = 1;
  }
  return result;
}

//----- (10004900) --------------------------------------------------------
int __cdecl SGUPLocalClient_SetCallbackUpdateAuthToken(int a1)
{
  int result; // eax

  if ( dword_1000A224 )
    result = sub_10001FA0(dword_1000A224, a1);
  return result;
}

//----- (1000506E) --------------------------------------------------------
int sub_1000506E()
{
  return _clean_type_info_names_internal(&unk_1000A554);
}
// 100053B6: using guessed type int __cdecl _clean_type_info_names_internal(_DWORD);

//----- (10005132) --------------------------------------------------------
void *sub_10005132()
{
  return &unk_10006EC0;
}

//----- (100057E0) --------------------------------------------------------
int sub_100057E0()
{
  int result; // eax

  result = QObject::staticMetaObject;
  HeartbeatClient::staticMetaObject = QObject::staticMetaObject;
  return result;
}

//----- (100057F0) --------------------------------------------------------
int sub_100057F0()
{
  int result; // eax

  result = QObject::staticMetaObject;
  HeartbeatServer::staticMetaObject = QObject::staticMetaObject;
  return result;
}

//----- (10005800) --------------------------------------------------------
int sub_10005800()
{
  int result; // eax

  result = QObject::staticMetaObject;
  dword_1000A030 = QObject::staticMetaObject;
  return result;
}
// 1000A030: using guessed type int dword_1000A030;

//----- (10005810) --------------------------------------------------------
int sub_10005810()
{
  int result; // eax

  result = QObject::staticMetaObject;
  dword_1000A048 = QObject::staticMetaObject;
  return result;
}
// 1000A048: using guessed type int dword_1000A048;

//----- (10005820) --------------------------------------------------------
int sub_10005820()
{
  int result; // eax

  result = QObject::staticMetaObject;
  LocalServer::staticMetaObject = QObject::staticMetaObject;
  return result;
}

//----- (10005830) --------------------------------------------------------
int sub_10005830()
{
  int result; // eax

  result = QThread::staticMetaObject;
  dword_1000A078 = QThread::staticMetaObject;
  return result;
}
// 1000A078: using guessed type int dword_1000A078;

// nfuncs=227 queued=146 decompiled=146 lumina nreq=0 worse=0 better=0
// ALL OK, 146 function(s) have been successfully decompiled
